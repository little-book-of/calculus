---
title: "微积分小书"
lang: zh
---

# 微积分小书

对微积分核心思想的简洁、适合初学者的介绍。

## 格式

- [下载 PDF](../book.pdf) – 可打印版本
- [下载 EPUB](../book.epub) – 适合电子阅读器
- [查看 LaTeX](../book.tex) – Latex 源

# 第 1 部分：极限和导数

# 第 1 章 函数和限制

## 1.1 函数

函数是数学中最基本的对象之一。从本质上讲，函数是一种接受输入并产生一个输出的规则。函数让我们能够描述关系、模拟现实世界的现象并构建整个微积分机制。

### 定义

形式上，编写从集合 $X$ （称为域）到集合 $Y$ （称为余域）的函数 $f$

$$
f : X \to Y.
$$

对于每个元素 $x \in X$，都有一个唯一的元素 $f(x) \in Y$。值$f(x)$称为$x$在$f$下的图像。

如果 $y = f(x)$，则 $y$ 是对应于输入 $x$ 的输出。实际出现的所有输出的集合称为范围（共域的子集）。

### 示例

1. 函数 $f(x) = x^2$ 将每个实数 $x$ 映射到其平方。

   - 域：所有实数 $\mathbb{R}$。
   - 密码域：所有实数 $\mathbb{R}$。
   - 范围：所有非负实数 $[0, \infty)$。

2. 函数 $g(x) = \dfrac{1}{x}$ 为每个非零实数分配其倒数。

   - 域名：$\mathbb{R} \setminus \{0\}$。
   - 范围：$\mathbb{R} \setminus \{0\}$。

3. 现实世界的示例：令 $T(t)$ 为时间 $t$（以小时为单位）的室外温度（以 °C 为单位）。这是从“一天中的时间”到“温度”的函数。

### 函数的表示方法

函数可以用几种有用的方式表示：

- 公式：例如，$f(x) = \sin x + x^2$。
- 图形：在坐标平面上绘制所有点 $(x, f(x))$。
- 表：离散数据集的配对输入和输出。
- 口头描述：“为每个学生分配他们的成绩。”

每种表示都强调同一功能的不同方面。

### 术语

- 自变量：输入（通常写为 $x$）。
- 因变量：输出（通常写作 $y$，其中 $y = f(x)$）。
- 函数符号：$f(x)$ 读作“$f$ of $x$”。

### 为什么函数在微积分中很重要

微积分是研究函数如何变化的学科。导数衡量瞬时变化率，而积分衡量累积效应。为了掌握这些想法，我们首先需要深入了解函数是什么以及它们的行为方式。

### 练习

1. 对于函数$f(x) = 3x - 2$：

   - 查找域、共域和范围。

2. 函数 $h(x) = \sqrt{x-1}$ 是为哪些输入定义的？它的范围是多少？

3. 举一个日常生活中函数的真实例子。明确说明域和辅域。

4. 画出 $f(x) = |x|$ 的图形。范围是多少？

5. 假设$g(x) = \dfrac{1}{x^2+1}$。解释为什么它的范围是区间$(0, 1]$。

## 1.2 图形和转换

函数不仅可以通过公式来理解，还可以通过其图形来理解。函数 $f$ 的图是所有有序对 $(x, f(x))$ 的集合，其中 $x$ 属于 $f$ 的域。在坐标平面上绘制这些对可以显示函数的行为方式。

### 基本图表有些图表非常基础，应该记住它们：

- $f(x) = x$：穿过原点的直线。
- $f(x) = x^2$：开口向上的抛物线。
- $f(x) = |x|$：“V”形图。
- $f(x) = \frac{1}{x}$：有两个分支的双曲线。
- $f(x) = \sin x$：波状周期曲线。

它们充当更复杂功能的构建块。

### 转换

可以使用简单的规则来移动、拉伸或反映图形：

1. 垂直移动：添加一个常数可以使图形向上或向下移动。

   $$
   y = f(x) + c \quad \text{is } f(x) \text{ shifted upward by } c.
   $$

2. 水平移动：在参数内添加可将图形向左或向右移动。

   $$
   y = f(x - c) \quad \text{is } f(x) \text{ shifted right by } c.
   $$

3. 垂直缩放：乘以常数可垂直拉伸或压缩图形。

   $$
   y = a f(x), \quad a > 1 \text{ stretches; } 0 < a < 1 \text{ compresses.}
   $$

4. 水平缩放：在参数内相乘会水平拉伸或压缩图形。

   $$
   y = f(bx), \quad b > 1 \text{ compresses toward the } y\text{-axis}.
   $$

5、思考：

   - $y = -f(x)$：穿过 $x$ 轴的反射。
   - $y = f(-x)$：穿过 $y$ 轴的反射。

### 组合变换

复杂的图通常来自按顺序组合多个变换。例如：

$$
y = 2(x-1)^2 + 3
$$

是通过取抛物线 $y = x^2$ ，向右移动 1，垂直拉伸 2，向上移动 3 得到的。

### 练习

1. 画出 $y = (x+2)^2 - 1$ 的图形。确定 $y = x^2$ 的转化序列。
2. 如果我们将 $x$ 替换为 $-x$，$y = f(x)$ 的图会发生什么？尝试使用 $f(x) = \sqrt{x}$。
3. 描述将 $y = \sin x$ 转变为 $y = 3\sin(x - \pi/4)$ 的转换。
4. 画出$y = |x-1| + 2$ 的图形。说出每个分支的顶点和斜率。
5. 对于 $y = \frac{1}{x-2}$，解释 $y = \frac{1}{x}$ 的图是如何变换的。

## 1.3 极限的直观想法

在许多情况下，函数在某一点的值不如该点附近的值重要。极限的概念体现了这个想法。

### 接近一个值

想象一下走向一堵墙。甚至在你触摸它之前，你就变得越来越近。同样，当 $x$ 接近数字 $a$ 时，$f(x)$ 的值可能接近某个数字 $L$。然后我们说：

$$
\lim_{x \to a} f(x) = L.
$$

这表达了这样的想法：只要使 $x$ 足够接近 $a$，就可以使 $f(x)$ 尽可能接近 $L$。

### 示例

1.对于$f(x) = 2x + 3$：
   作为 $x \to 1$、$f(x) \to 5$。

2.对于$f(x) = \dfrac{\sin x}{x}$：
   作为 $x \to 0$，该函数接近 1，即使未定义 $f(0)$。

3.对于$f(x) = \dfrac{1}{x}$：
   作为$x \to 0^+$（从右侧接近），$f(x) \to +\infty$。
   作为$x \to 0^-$（从左侧接近），$f(x) \to -\infty$。
   由于左右行为不同，因此 0 处的极限不存在。

### 限制的重要性

- 它们允许我们在最初未定义的地方定义函数。
- 它们捕获不连续性和奇点附近的行为。
- 它们构成了导数（瞬时变化率）和积分（总和极限的面积）的基础。

### 片面限制

有时必须分别研究左翼和右翼的行为：

$$
\lim_{x \to a^-} f(x), \quad \lim_{x \to a^+} f(x).
$$

如果两者都同意，则存在双边限制。

### 练习1. 计算$\lim_{x \to 2} (3x^2 - x)$。
2.什么是$\lim_{x \to 0} \frac{\sin x}{x}$？使用 $\sin x$ 图中的直觉。
3. 评估$\lim_{x \to 0} |x|/x$。是否存在两侧极限？
4. 找到$\lim_{x \to \infty} \frac{1}{x}$。用文字解释这个结果。
5. 对于$f(x) = \frac{x^2-1}{x-1}$，$\lim_{x \to 1} f(x)$是什么？与 $f(1)$ 的值进行比较。

## 1.4 极限的正式定义

使用 epsilon-delta 定义可以精确地表达极限的直观概念。这为我们提供了一种严格的方式来表示 $f(x)$ 接近值 $L$，因为 $x$ 接近 $a$。

### 定义

我们写

$$
\lim_{x \to a} f(x) = L
$$

如果满足以下条件：

对于每个 $\varepsilon > 0$ （无论多小），都存在一个 $\delta > 0$ ，使得每当

$$
0 < |x - a| < \delta,
$$

由此可见

$$
|f(x) - L| < \varepsilon.
$$

换句话说：只要 $x$ 足够接近 $a$ （但不等于 $a$），我们就可以使 $f(x)$ 尽可能接近 $L$。

### 示例 1：线性函数

对于 $f(x) = 2x + 1$，显示 $\lim_{x \to 3} f(x) = 7$。

- 我们想要 $|f(x) - 7| < \varepsilon$。
- 但是$f(x) - 7 = 2x + 1 - 7 = 2(x - 3)$。
- 所以$|f(x) - 7| = 2|x - 3|$。
- 如果我们选择 $\delta = \varepsilon / 2$，那么每当 $|x - 3| < \delta$ 时，我们就有 $|f(x) - 7| < \varepsilon$。
  这证明了极限。

### 示例 2：倒数函数

对于 $f(x) = \frac{1}{x}$，请考虑 $\lim_{x \to 2} f(x) = \tfrac{1}{2}$。

- 我们想要 $\left|\frac{1}{x} - \frac{1}{2}\right| < \varepsilon$。
- 这种不等式需要代数运算，但可以通过根据 $\varepsilon$ 选择 $\delta$ 来满足。
  过程比较复杂，但原理是一样的。

### 为什么这很重要

- epsilon-delta 定义保证限制不模糊或仅基于直觉。
- 它是连续性、导数和积分的基础。
- 尽管初学者可能会觉得它很抽象，但使用简单的示例可以建立熟悉感。

### 练习

1. 使用 epsilon-delta 定义，证明 $\lim_{x \to 4} (x+1) = 5$。
2. 使用正式定义表明$\lim_{x \to 0} 5x = 0$。
3.解释为什么$\lim_{x \to 0} \frac{1}{x}$不存在。
4. 对于 $f(x) = x^2$，显示 $\lim_{x \to 2} f(x) = 4$。
5. 用你自己的话解释 $\varepsilon$ 和 $\delta$ 在极限定义中的作用。

## 1.5 连续性

如果一个函数的图形不用离开纸就可以画出来，那么这个函数就是连续的。更准确地说，连续性确保输入的微小变化会产生输出的微小变化。

### 定义

如果满足三个条件，则函数 $f$ 在点 $a$ 处连续：

1. $f(a)$ 被定义。
2. $\lim_{x \to a} f(x)$ 存在。
3.$\lim_{x \to a} f(x) = f(a)$。

如果一个函数在区间内的每一点都是连续的，我们就说它在该区间上连续。

### 示例

1.多项式函数：像$f(x) = x^2 + 3x - 5$这样的函数在$\mathbb{R}$上处处连续。

2. 有理函数：$f(x) = \frac{1}{x-1}$ 在各处都是连续的，除了在 $x = 1$ 处未定义。

3. 分段函数：

   $$
   f(x) =
   \begin{cases}
   x^2 & x < 1, \\
   2 & x = 1, \\
   x+1 & x > 1,
   \end{cases}
   $$

   该函数在 $x = 1$ 处有一个“跳转”，因此它在那里不连续。

### 不连续性的类型

1. 可移除的不连续性：图中的“洞”。示例：$f(x) = \frac{x^2-1}{x-1}$ 在 $x=1$。
2.跳跃不连续性：左右极限不同。
3. 无限不连续性：函数转到某点附近的 $\pm\infty$，就像 $x = 0$ 附近的 $f(x) = 1/x$ 一样。

### 中值定理

如果函数在区间 $[a, b]$ 上连续，则对于 $f(a)$ 和 $f(b)$ 之间的任何数字 $N$，都存在一些 $c \in [a, b]$ 使得 $f(c) = N$ 。这一性质对于证明方程根和解的存在性至关重要。

### 练习

1. 判断函数$f(x) = |x|$在$x = 0$处是否连续。
2. 识别 $f(x) = \frac{x+2}{x^2-1}$ 的不连续点。
3. 解释为什么每个多项式函数处处连续。
4. 给出具有跳跃不连续性的函数的示例。画出其图形。
5. 使用中值定理证明方程 $x^3 + x - 1 = 0$ 有一个介于 0 和 1 之间的解。

# 第 2 章 衍生品

## 2.1 作为变化率的导数

导数是微积分的中心思想之一。它测量函数如何随着输入变化而变化 - 换句话说，输出相对于输入的变化率。

### 平均变化率

对于函数 $f(x)$，两点 $x = a$ 和 $x = b$ 之间的平均变化率为

$$
\frac{f(b) - f(a)}{b - a}.
$$

这是通过点 $(a, f(a))$ 和 $(b, f(b))$ 的割线的斜率。

### 瞬时变化率

为了测量 $f(x)$ 在单个点的变化速度，我们让间隔缩小：

$$
f'(a) = \lim_{h \to 0} \frac{f(a+h) - f(a)}{h}.
$$

该极限（如果存在）称为 $f$ 在 $a$ 处的导数。从几何角度来说，它是 $f$ 图形在 $(a, f(a))$ 点处的切线的斜率。

### 符号

- $f'(x)$：素数表示法。
- $\dfrac{dy}{dx}$：莱布尼茨表示法，在 $y = f(x)$ 时使用。
- $Df(x)$：运算符符号。

所有这些符号都指同一概念。

### 示例

1.对于$f(x) = x^2$：

   $$
   f'(x) = \lim_{h \to 0} \frac{(x+h)^2 - x^2}{h} = \lim_{h \to 0} \frac{2xh + h^2}{h} = 2x.
   $$

   $x$ 处的抛物线斜率为 $2x$。

2.对于$f(x) = \sin x$：

   $$
   f'(x) = \cos x.
   $$

3. 对于 $f(x) = c$ （常数）：

   $$
   f'(x) = 0.
   $$

   常数函数永远不会改变。

### 解释

- 在物理学中：如果 $s(t)$ 是位置，那么 $s'(t)$ 是速度。
- 在经济学中：如果 $C(x)$ 是成本，则 $C'(x)$ 是边际成本。
- 在生物学中：如果 $P(t)$ 是人口，那么 $P'(t)$ 是增长率。

导数使“变化”在许多情况下变得精确。

### 练习

1. 计算 $f(x) = 3x^2 - 2x + 1$ 的 $f'(x)$。
2. 求 $x = 2$ 处 $f(x) = x^3$ 的切线的斜率。
3. 如果 $s(t) = t^2 + 2t$ 代表距离（以米为单位），则 $t = 5$ 处的速度是多少？
4. 使用极限定义计算 $f(x) = \frac{1}{x}$ 的导数。
5. 绘制$y = x^2$ 的图形并在$x = 1$ 处画切线。

## 2.2 微分规则

一旦定义了导数，我们就需要有效的方法来计算它。微分规则是使我们免于重复应用极限定义的捷径。

### 不变的规则

如果 $f(x) = c$ 其中 $c$ 是常数，则

$$
f'(x) = 0.
$$

### 权力法则

对于 $f(x) = x^n$ ，其中 $n$ 是实数，

$$
\frac{d}{dx} \big( x^n \big) = n x^{n-1}.
$$

示例：

- $\frac{d}{dx}(x^2) = 2x$。
- $\frac{d}{dx}(x^5) = 5x^4$。
- $\frac{d}{dx}(\sqrt{x}) = \frac{1}{2\sqrt{x}}$。

### 常数倍规则

如果$f(x) = c \cdot g(x)$，那么

$$
f'(x) = c \cdot g'(x).
$$

### 和与差规则

- $(f + g)' = f' + g'$。
- $(f - g)' = f' - g'$。

### 产品规则

对于 $f(x)$ 和 $g(x)$：

$$
(fg)' = f'g + fg'.
$$

示例：如果 $f(x) = x^2$、$g(x) = \sin x$：

$$
(fg)' = (2x)(\sin x) + (x^2)(\cos x).
$$

### 商规则

对于 $f(x)$ 和 $g(x)$：

$$
\left(\frac{f}{g}\right)' = \frac{f'g - fg'}{g^2}, \quad g(x) \neq 0.
$$

示例：如果 $f(x) = x^2$、$g(x) = x+1$：

$$
\left(\frac{x^2}{x+1}\right)' = \frac{(2x)(x+1) - (x^2)(1)}{(x+1)^2}.
$$

### 常用函数的导数

- $\frac{d}{dx}(\sin x) = \cos x$。
- $\frac{d}{dx}(\cos x) = -\sin x$。
- $\frac{d}{dx}(e^x) = e^x$。
- $\frac{d}{dx}(\ln x) = \frac{1}{x}, \quad x > 0$。

### 练习1.区分$f(x) = 7x^3 - 4x + 9$。
2. 利用乘积法则求$f(x) = x^2 e^x$的导数。
3. 对$f(x) = \frac{\sin x}{x}$ 应用商规则。
4. 使用规则链计算 $\frac{d}{dx}(\ln(x^2))$。
5. 证明$f(x) = \frac{1}{x}$ 的导数是$-\frac{1}{x^2}$。

## 2.3 链式法则

通常，函数是通过将更简单的函数组合在一起来构建的。为了区分此类复合函数，我们使用链式法则。

### 规则

如果 $y = f(g(x))$，那么

$$
\frac{dy}{dx} = f'(g(x)) \cdot g'(x).
$$

换句话说：对外层函数求导，保持内层函数不变，然后乘以内层函数的导数。

### 示例

1. 线性函数的平方

   $$
   y = (3x+2)^2
   $$

   外部函数：$f(u) = u^2$，内部函数：$g(x) = 3x+2$。

   $$
   y' = 2(3x+2) \cdot 3 = 6(3x+2).
   $$

2. 指数内含二次

   $$
   y = e^{x^2}
   $$

   外部函数：$f(u) = e^u$，内部函数：$g(x) = x^2$。

   $$
   y' = e^{x^2} \cdot 2x = 2x e^{x^2}.
   $$

3. 带根的对数

   $$
   y = \ln(\sqrt{x})
   $$

   外部：$f(u) = \ln u$，内部：$g(x) = \sqrt{x}$。

   $$
   y' = \frac{1}{\sqrt{x}} \cdot \frac{1}{2\sqrt{x}} = \frac{1}{2x}.
   $$

### 广义链式法则

对于多个嵌套函数 $y = f(g(h(x)))$：

$$
\frac{dy}{dx} = f'(g(h(x))) \cdot g'(h(x)) \cdot h'(x).
$$

这自然延伸到更深层次的作品。

### 为什么链式法则很重要

- 它处理几乎所有现实世界的模型，其中一个数量间接依赖于另一个数量。
- 它将微积分与物理学联系起来（例如，速度取决于时间和位置）。
- 它对于隐式微分和高级主题至关重要。

### 练习

1.区分$y = (5x^2 + 1)^3$。
2. 找到$\frac{d}{dx}(\sin(3x))$。
3. 计算$\frac{d}{dx}(\ln(1+x^2))$。
4. 区分$y = \cos^2(x)$。
5. 将广义链式法则应用于 $y = e^{\sin(x^2)}$。

## 2.4 隐式微分

并非所有函数都以 $y = f(x)$ 形式给出。有时 $x$ 和 $y$ 通过方程相关，并且显式求解 $y$ 是困难或不可能的。在这种情况下，我们使用隐式微分。

### 想法

如果方程同时涉及 $x$ 和 $y$，我们可以对 $x$ 两边求微分，将 $y$ 视为 $x$ 的函数。每次我们对涉及 $y$ 的项求导时，我们都会乘以 $\frac{dy}{dx}$。

### 示例 1：圆形

方程：

$$
x^2 + y^2 = 25
$$

对 $x$ 求微分：

$$
2x + 2y \frac{dy}{dx} = 0.
$$

求解 $\frac{dy}{dx}$：

$$
\frac{dy}{dx} = -\frac{x}{y}.
$$

这给出了任意点处圆的切线的斜率。

### 示例 2：变量的乘积

方程：

$$
xy = 1
$$

区分：

$$
x \frac{dy}{dx} + y = 0.
$$

所以，

$$
\frac{dy}{dx} = -\frac{y}{x}.
$$

### 示例 3：三角关系

方程：

$$
\sin(xy) = x
$$

区分：

$$
\cos(xy) \cdot \Big(y + x\frac{dy}{dx}\Big) = 1.
$$

求解 $\frac{dy}{dx}$：

$$
\frac{dy}{dx} = \frac{1 - y\cos(xy)}{x\cos(xy)}.
$$

### 为什么隐式微分很有用

- 许多重要的曲线（圆、椭圆、双曲线）自然是隐式定义的。
- 它允许我们对方程进行微分，而无需先求解 $y$。
- 这是相关速率和微分方程等更高级主题的关键一步。

### 练习

1. 对于曲线 $x^2 + xy + y^2 = 7$，找到 $\frac{dy}{dx}$。
2. 隐式微分$\cos(x) + \cos(y) = 1$。
3. 求 $(1, 2)$ 点处 $x^3 + y^3 = 9$ 的切线的斜率。
4. 给定 $x^2 + y^2 = 10$，当 $(x, y) = (1, 3)$ 时计算 $\frac{dy}{dx}$。
5. 对 $e^{xy} = x + y$ 求微分，找到 $\frac{dy}{dx}$。

## 2.5 高阶导数

到目前为止，我们已经研究了一阶导数，它衡量函数的变化率。但导数本身也可以微分，从而产生高阶导数。

＃＃＃ 定义- $f$ 的二阶导数是导数的导数：

  $$
  f''(x) = \frac{d}{dx}\left(f'(x)\right).
  $$

- 更一般地，$n$ 阶导数写为

  $$
  f^{(n)}(x) = \frac{d^n}{dx^n} f(x).
  $$

### 示例

1.$f(x) = x^3$

   - 一阶导数：$f'(x) = 3x^2$。
   - 二阶导数：$f''(x) = 6x$。
   - 三阶导数：$f^{(3)}(x) = 6$。
   - 四阶导数：$f^{(4)}(x) = 0$。

2.$f(x) = \sin x$

   - $f'(x) = \cos x$。
   - $f''(x) = -\sin x$。
   - $f^{(3)}(x) = -\cos x$。
   - $f^{(4)}(x) = \sin x$。
     导数在长度为 4 的循环中重复。

3.$f(x) = e^x$

   - 每个导数都是 $e^x$。

### 应用程序

- 凹性：$f''(x)$ 的符号表明 $f$ 的图形是上凹 ($f'' > 0$) 还是下凹 ($f'' < 0$)。
- 拐点：$f''(x) = 0$ 和凹度发生变化的点。
- 运动：在物理学中，如果 $s(t)$ 是位置：

  - $s'(t)$ = 速度，
  - $s''(t)$ = 加速度，
  - $s^{(3)}(t)$ = jerk（加速度变化率）。
- 近似值：高阶导数出现在泰勒级数中，用于近似函数。

### 练习

1. 计算 $f(x) = \cos x$ 的前四个导数。
2. 查找 $f(x) = x^4 - 2x^2 + 3$ 的 $f''(x)$。
3. 对于 $f(x) = e^{2x}$，显示 $f^{(n)}(x) = 2^n e^{2x}$。
4. 确定$f(x) = x^3 - 3x$ 上凹和下凹的区间。
5. 如果是 $s(t) = t^3 - 6t^2 + 9t$，求 $t = 2$ 处的速度和加速度。

# 第 3 章 衍生品的应用

## 3.1 切线和法线

导数的最初应用之一是求曲线的切线和法线方程。这些线捕获给定点处函数的局部几何形状。

### 切线

曲线 $y = f(x)$ 在点 $(a, f(a))$ 处的切线是恰好“接触”该处图形的线，并且与曲线具有相同的斜率。

切线的斜率由导数给出：

$$
m_{\text{tangent}} = f'(a).
$$

因此，$(a, f(a))$ 处的切线方程为

$$
y - f(a) = f'(a)(x - a).
$$

### 法线

法线垂直于同一点的切线。其斜率是切线斜率的负倒数：

$$
m_{\text{normal}} = -\frac{1}{f'(a)}.
$$

所以法线的方程是

$$
y - f(a) = -\frac{1}{f'(a)} (x - a), \quad f'(a) \neq 0.
$$

### 示例

1. $f(x) = x^2$ 在 $x = 1$。

   - $f(1) = 1$、$f'(x) = 2x$，所以 $f'(1) = 2$。
   - 切线：$y - 1 = 2(x - 1)$ 或 $y = 2x - 1$。
   - 正常：斜率 = $-\tfrac{1}{2}$，因此方程为 $y - 1 = -\tfrac{1}{2}(x - 1)$。

2. $f(x) = \sin x$ 在 $x = \tfrac{\pi}{4}$。

   - $f(\tfrac{\pi}{4}) = \tfrac{\sqrt{2}}{2}$，$f'(\tfrac{\pi}{4}) = \cos(\tfrac{\pi}{4}) = \tfrac{\sqrt{2}}{2}$。
   - 切线：$y - \tfrac{\sqrt{2}}{2} = \tfrac{\sqrt{2}}{2}(x - \tfrac{\pi}{4})$。

### 为什么切线和法线很重要

- 切线局部逼近曲线（线性逼近）。
- 法线在几何、光学（反射/折射）和力学（力方向）中很有用。
- 两者都在优化和曲率研究中发挥作用。

### 练习

1. 在 $x = 2$ 处找到 $y = x^3$ 的切线和法线。
2. 在 $x = 0$ 处确定 $y = e^x$ 的切线和法线。
3. 对于 $y = \ln x$，计算 $x = 1$ 处的切线。
4. $x^2 + y^2 = 9$ 给出一个圆。使用隐式微分求出 $(0,3)$ 处的切线斜率。
5. 绘制$y = \sqrt{x}$ 的图形，并在$x = 4$ 处绘制切线和法线。

## 3.2 相关费率

在许多现实世界的问题中，两个或多个数量随时间变化，并且它们的变化率是相关的。相关利率问题使用导数来描述这些关系。

### 一般方法1. 识别依赖于时间$t$ 的变量。
2. 写出与变量相关的方程。
3. 应用链式法则，对 $t$ 两边求微分。
4. 代入给定时刻的已知值。
5. 求解未知速率。

### 示例 1：扩展圆

圆的半径为 $r$，以 $\frac{dr}{dt} = 2 \,\text{cm/s}$ 的速率增加。求 $r = 5$ 时面积 $A = \pi r^2$ 增加的速率。

区分：

$$
\frac{dA}{dt} = 2\pi r \frac{dr}{dt}.
$$

替补：

$$
\frac{dA}{dt} = 2\pi (5)(2) = 20\pi \,\text{cm}^2/\text{s}.
$$

### 示例 2：滑梯

一个 10 英尺高的梯子靠在墙上。底部在 $\frac{dx}{dt} = 1 \,\text{ft/s}$ 处滑开。当底部距离墙壁 6 英尺时，顶部向下滑动的速度有多快？

方程：$x^2 + y^2 = 100$，其中 $y$ 是高度。

区分：

$$
2x \frac{dx}{dt} + 2y \frac{dy}{dt} = 0.
$$

在 $x = 6$、$y = 8$。替补：

$$
2(6)(1) + 2(8)\frac{dy}{dt} = 0 \quad \Rightarrow \quad \frac{dy}{dt} = -\tfrac{6}{8} = -\tfrac{3}{4}.
$$

因此顶部在 $0.75 \,\text{ft/s}$ 处滑落。

### 示例 3：圆锥体中的水

将水倒入高 12 厘米、半径 6 厘米的圆锥体中。当水深4厘米时，水位正在上升$2 \,\text{cm/s}$。体积以什么速度增加？

方程：$V = \tfrac{1}{3}\pi r^2 h$。使用相似性，$r = \tfrac{h}{2}$。替换：

$$
V = \tfrac{1}{12}\pi h^3.
$$

区分：

$$
\frac{dV}{dt} = \tfrac{1}{4}\pi h^2 \frac{dh}{dt}.
$$

在 $h = 4$、$\frac{dh}{dt} = 2$：

$$
\frac{dV}{dt} = \tfrac{1}{4}\pi (16)(2) = 8\pi \,\text{cm}^3/\text{s}.
$$

### 为什么相关利率很重要

- 它们描述物理、工程和生物学中的运动和变化。
- 他们通过时间相关的过程将几何与微积分联系起来。
- 他们训练我们对动态系统进行数学建模。

### 练习

1. 给气球充气，使其半径增大到 $0.5 \,\text{cm/s}$。求半径为 10 厘米时体积增加的速度。
2. 一辆汽车以 40 公里/小时的速度向北行驶，另一辆汽车以 30 公里/小时的速度向东行驶。 2小时后，它们之间的距离增加的速度有多快？
3. 距离墙壁 20 m 的聚光灯照射在以 1.5 m/s 的速度走开的 2 m 高的男子身上。当他距离光源 5 m 时，他在墙上的影子的长度变化有多快？
4. 立方体的边长以 2 厘米/秒的速度增长。当边长为 3 厘米时，表面积增加的速度有多快？
5. 将沙子倒在一堆上，形成一个半径始终等于高度的圆锥体。如果高度以 5 厘米/秒的速度增加，那么当高度为 10 厘米时体积增加的速度是多少？

## 3.3 最优化问题

优化问题通常在某些约束下使用导数来查找函数的最大值或最小值。这些问题模拟了我们想要最大化效率、利润或面积，或最小化成本、距离或时间的情况。

### 一般步骤

1. 理解问题：确定要优化的数量。
2. 函数模型：用一个变量编写目标函数。
3.应用约束：使用给定的条件来减少变量。
4. 微分：计算目标函数的导数。
5. 查找关键点：解决 $f'(x) = 0$ 或 $f'(x)$ 未定义的情况。
6. 测试最大值/最小值：使用二阶导数测试或检查端点。
7. 解释结果：在原文中陈述答案。

### 示例 1：矩形的最大面积

矩形的周长为 40。什么尺寸可以使其面积最大化？- 设长度 $x$，宽度 $y$。约束：$2x + 2y = 40 \Rightarrow y = 20 - x$。
- 区域：$A = xy = x(20 - x) = 20x - x^2$。
- 导数：$A'(x) = 20 - 2x$。设置等于 0：$x = 10$。
- 然后$y = 10$。
- 最大面积：$100$。长方形是正方形。

### 示例 2：最小化距离

找到抛物线 $y = x^2$ 上最接近 $(0,3)$ 的点。

- 距离平方：$D(x) = (x-0)^2 + (x^2 - 3)^2$。
- 展开：$D(x) = x^2 + (x^2 - 3)^2 = x^2 + x^4 - 6x^2 + 9 = x^4 - 5x^2 + 9$。
- 导数：$D'(x) = 4x^3 - 10x$。解决：$x(4x^2 - 10) = 0$。
- 解决方案：$x = 0$、$x = \pm \sqrt{2.5}$。
- 检查给出 $x = \pm \sqrt{2.5}$ 处的最小距离。

### 示例 3：最大体积的盒子

一个没有顶部的盒子是用一块边长为 20 厘米的正方形纸板制成的，从角上切出相等的正方形并将侧面折叠起来。找到使体积最大化的切口尺寸。

- 令切割尺寸 = $x$。然后尺寸：$(20 - 2x) \times (20 - 2x) \times x$。
- 卷：$V(x) = x(20 - 2x)^2$。
- 导数：$V'(x) = (20 - 2x)(20 - 6x)$。
- 关键点：$x = 10$（音量为零）或 $x = \tfrac{20}{6} \approx 3.33$。
- 在 $x \approx 3.33$ 处，音量已最大化。

### 为什么优化很重要

- 工程师用它来设计高效的结构。
- 企业利用它来最大化利润或最小化成本。
- 科学家用它来模拟寻求平衡的自然系统。

### 练习

1. 一位农民有 100 m 的栅栏，沿河围出一块矩形田地（因此只有 3 个边需要栅栏）。求面积最大化的尺寸。
2. 找到两个和为 20 并且乘积尽可能大的正数。
3. 圆柱体应由 100 cm$^2$ 的材料制成。求最大体积的尺寸。
4.将一根10m长的电线切成两段，一段弯成方形，另一段弯成圆形。应该如何切割才能最大化封闭的总面积？
5. 建造一个方形底座、体积为 32 m$^3$ 的封闭盒子。求最小化表面积的尺寸。

## 3.4 凹度和拐点

导数不仅告诉我们斜率，还告诉我们图形的形状。二阶导数对于理解凹性和识别拐点特别有用。

### 凹度

- 函数 $f(x)$ 在区间上凹，如果 $f''(x) > 0$。
  图形向上弯曲，就像一个杯子。

- 函数 $f(x)$ 在区间上凹，如果 $f''(x) < 0$。
  图形向下弯曲，就像皱眉一样。

凹性描述了函数斜率如何变化：如果斜率增加，则图形向上凹；如果斜率增加，则图形向上凹；如果斜率增加，则图形向上凹。如果斜率减小，则图形是下凹的。

### 拐点

拐点是图形上凹度发生变化的点。

- 如果 $f''(x) = 0$ 或 $f''(x)$ 未定义，则该点是拐点的候选点。
- 为了确认，凹度必须在点的两侧改变符号。

### 示例

1.$f(x) = x^3$

   - $f''(x) = 6x$。
   - 在 $x = 0$、$f''(0) = 0$。
   - 对于 $x < 0$、$f''(x) < 0$ → 下凹。
   - 对于 $x > 0$、$f''(x) > 0$ → 向上凹。
   - 因此，$(0,0)$ 是一个拐点。

2.$f(x) = x^4$

   - $f''(x) = 12x^2$。
   - 在 $x = 0$、$f''(0) = 0$ 处，但凹性不改变符号（始终 ≥ 0）。
   - 没有拐点。

### 凹度和曲线草图

- 如果 $f'(x) = 0$ 和 $f''(x) > 0$，则 $f$ 具有局部最小值。
- 如果 $f'(x) = 0$ 和 $f''(x) < 0$，则 $f$ 具有局部最大值。
- 这称为二阶导数测试。

### 为什么这很重要凹度和拐点帮助我们理解图形的“形状”：它们弯曲、变平或转向的地方。这些思想是曲线绘制、物理学（加速）和经济学（收益递减）的核心。

### 练习

1. 确定 $f(x) = x^3 - 3x$ 的凹度间隔。找到它的拐点。
2. 对于 $f(x) = \ln(x)$，识别凹度和可能的拐点。
3. 对 $f(x) = x^2 e^{-x}$ 应用二阶导数测试，对关键点进行分类。
4. 绘制$f(x) = \sin x$草图，标记凹面间隔和拐点。
5. 解释为什么 $f(x) = e^x$ 没有拐点。

## 3.5 曲线绘制

曲线绘制是利用导数信息绘制函数图形的过程。我们不是绘制许多点，而是分析关键特征：截距、渐近线、递增/递减区间和凹性。

### 曲线绘制步骤

1. 域：标识函数定义的位置。
2. 截距：找到图形与轴相交的位置。
3. 渐近线：

   - 垂直渐近线出现在函数未定义且趋于无穷大的地方。
   - 水平或倾斜渐近线将最终行为描述为 $x \to \pm\infty$。
4. 一阶导数$f'(x)$：

   - 正→功能增加。
   - 负→功能正在减弱。
   - $f'(x)$ 的零点 → 临界点（可能的最大值/最小值）。
5. 二阶导数$f''(x)$：

   - 正→凹上。
   - 负→下凹。
   - 零或未定义 → 可能的拐点。
6. 结合信息：使用所有结果绘制清晰准确的图表。

### 示例 1：$f(x) = x^3 - 3x$

- 域：所有实数。
- 拦截：在$(0,0)$。
- 导数：$f'(x) = 3x^2 - 3 = 3(x-1)(x+1)$。

  - 增加：$(-\infty, -1) \cup (1, \infty)$。
  - 递减：$(-1, 1)$。
- 二阶导数：$f''(x) = 6x$。

  - $x < 0$ 向下凹，$x > 0$ 向上凹。
  - 拐点位于 $(0,0)$。
- 形状：S 曲线，局部最大值位于 $(-1, 2)$，局部最小值位于 $(1, -2)$。

### 示例 2：$f(x) = \frac{1}{x}$

- 域名：$x \neq 0$。
- 垂直渐近线：$x = 0$。
- 水平渐近线：$y = 0$。
- 导数：$f'(x) = -\frac{1}{x^2}$（始终为负）。功能总是在减弱。
- 二阶导数：$f''(x) = \frac{2}{x^3}$。

  - 凹进$x > 0$。
  - $x < 0$ 向下凹。
- 图形：具有两个分支的双曲线。

### 为什么曲线绘制很有用

- 无需详尽的计算即可深入了解函数的整体行为。
- 微积分考试和应用问题中必不可少的。
- 架起代数分析和几何理解的桥梁。

### 练习

1. 画出$f(x) = x^4 - 2x^2$的曲线。识别最大值、最小值和拐点。
2. 分析并绘制$f(x) = \ln(x)$。显示截距、渐近线和凹度。
3. 对于 $f(x) = e^{-x}$，描述生长/衰退、渐近线和凹度。
4. 在区间 $(- \pi, \pi)$ 上绘制 $f(x) = \tan x$ 的图形。标记渐近线。
5. 使用一阶和二阶导数测试对$f(x) = x^3 - 6x^2 + 9x$ 的临界点进行分类。

# 第二部分。积分

# 第 4 章反导数和定积分

## 4.1 不定积分

不定积分是微分的逆过程。如果导数测量变化，则积分可以从其变化率恢复原始函数。

### 定义

如果 $F'(x) = f(x)$，那么

$$
\int f(x)\,dx = F(x) + C,
$$其中 $C$ 是积分常数。

每个不定积分都代表一系列仅相差一个常数的函数，因为微分消除了常数。

### 基本规则

1. 恒定规则

$$
\int c\,dx = cx + C.
$$

2. 权力法则

$$
\int x^n\,dx = \frac{x^{n+1}}{n+1} + C, \quad n \neq -1.
$$

3.求和规则

$$
\int \big(f(x) + g(x)\big)\,dx = \int f(x)\,dx + \int g(x)\,dx.
$$

4. 常数倍数规则

$$
\int c f(x)\,dx = c \int f(x)\,dx.
$$

### 常见积分

- $\int e^x dx = e^x + C$
- $\int \sin x dx = -\cos x + C$
- $\int \cos x dx = \sin x + C$
- $\int \frac{1}{x} dx = \ln|x| + C$

### 示例

1.$\int (3x^2 - 4)\,dx = x^3 - 4x + C$。

2.$\int \cos(2x)\,dx = \tfrac{1}{2}\sin(2x) + C$。

3.$\int \frac{1}{x}\,dx = \ln|x| + C$。

### 解释

- 不定积分是反导数。
- 它们是定积分的基础，可测量面积、距离和质量等累积量。
- 在应用环境中，整合使我们能够从比率转向总数。

### 练习

1. 找到$\int (5x^4 + 2x)\,dx$。
2. 计算$\int (e^x + 3)\,dx$。
3. 利用积分求$f'(x) = 6x$的通解。
4. 评估$\int \frac{2}{x}\,dx$。
5. 如果速度为$v(t) = 4t$，则找到位置函数$s(t)$。

## 4.2 面积定积分

不定积分代表反导数族，而定积分则给出一个数值：两点之间曲线下的累积面积。

### 定义

对于在 $[a, b]$ 上定义的函数 $f(x)$，定积分为

$$
\int_a^b f(x)\,dx = \lim_{n \to \infty} \sum_{i=1}^n f(x_i^-) \,\Delta x,
$$

其中区间 $[a, b]$ 被分为 $n$ 个宽度为 $\Delta x$ 的子区间，$x_i^-$ 是每个子区间中的一个样本点。

这是黎曼和的极限。

### 几何解释

- 如果 $f(x) \geq 0$ 在 $[a, b]$ 上，则 $\int_a^b f(x)\,dx$ 等于曲线 $y = f(x)$ 下从 $x=a$ 到 $x=b$ 的面积。
- 如果 $f(x)$ 低于 $x$ 轴，则积分计算有符号面积：轴下方的区域计数为负。

### 定积分的性质

1. 区间上的可加性

$$
\int_a^c f(x)\,dx = \int_a^b f(x)\,dx + \int_b^c f(x)\,dx.
$$

2. 倒车限制

$$
\int_a^b f(x)\,dx = -\int_b^a f(x)\,dx.
$$

3. 零宽度区间

$$
\int_a^a f(x)\,dx = 0.
$$

4. 线性度

$$
\int_a^b \big( cf(x) + g(x)\big)\,dx = c\int_a^b f(x)\,dx + \int_a^b g(x)\,dx.
$$

### 示例

1.$\int_0^2 x\,dx = \left[\tfrac{1}{2}x^2\right]_0^2 = 2.$
   这是直线 $y=x$ 下方直角三角形的面积。

2.$\int_{-1}^1 x^3\,dx = 0.$
   奇函数 $x^3$ 具有抵消的对称区域。

3.$\int_0^\pi \sin x\,dx = 2.$
   这等于正弦曲线的一个拱形下方的面积。

### 为什么这很重要

- 定积分测量累积量：距离、质量、能量、概率。
- 它们将代数计算与几何直觉联系起来。
- 下一步是微积分基本定理，它将定积分与反导数联系起来。

### 练习

1. 计算$\int_0^3 (2x+1)\,dx$。
2. 找到 $y = x^2$ 和 $x$ 轴之间从 $x = 0$ 到 $x = 2$ 的区域。
3. 评估$\int_{-2}^2 (x^2 - 1)\,dx$。
4. 如果 $f(x)$ 是奇数，则证明 $\int_{-a}^a f(x)\,dx = 0$。
5. 使用具有 $n=4$ 子区间和右端点的黎曼和来近似 $\int_0^1 e^x\,dx$。

## 4.3 微积分基本定理

微积分基本定理（FTC）统一了微积分的两个主要思想：微分和积分。它表明寻找面积和寻找变化率是同一枚硬币的两个方面。

### 第 1 部分：积分的微分

如果 $f$ 在 $[a, b]$ 上连续，则定义

$$
F(x) = \int_a^x f(t)\,dt.
$$

那么 $F$ 是可微分的，并且

$$
F'(x) = f(x).
$$

换句话说：累积面积函数的导数就是原函数本身。

### 第 2 部分：定积分的计算如果 $f$ 在 $[a, b]$ 上连续，并且 $F$ 是 $f$ 的任何反导数，则

$$
\int_a^b f(x)\,dx = F(b) - F(a).
$$

这告诉我们，我们可以简单地通过找到反导数来计算定积分，而不是通过计算黎曼和的极限。

### 示例

1.$\int_0^2 x^2\,dx$。

   - 反导数：$F(x) = \tfrac{1}{3}x^3$。
   - 申请联邦贸易委员会：$F(2) - F(0) = \tfrac{8}{3} - 0 = \tfrac{8}{3}.$

2. 如果是 $F(x) = \int_1^x \cos t \, dt$，则 $F'(x) = \cos x$。

3.$\int_1^4 \frac{1}{x}\,dx$。

   - 反导数：$\ln|x|$。
   - 申请联邦贸易委员会：$\ln 4 - \ln 1 = \ln 4.$

### 为什么联邦贸易委员会很重要

- 它将积分从极限过程转变为实际计算。
- 它证实了微分和积分是逆运算。
- 它是使微积分在数学、科学和工程中发挥作用的中心定理。

### 练习

1. 使用 FTC 评估 $\int_0^3 (2x+1)\,dx$。
2. 如果是 $F(x) = \int_0^x e^t\,dt$，则查找 $F'(x)$。
3. 计算$\int_0^\pi \sin x \, dx$。
4. 证明如果 $f'(x) = g(x)$，则 $\int_a^b g(x)\,dx = f(b) - f(a)$。
5. 使用 FTC 解释为什么 $y = \cos x$ 下从 $0$ 到 $\pi/2$ 的面积等于 1。

## 4.4 积分的性质

定积分有几个重要的属性，使其在应用中灵活而强大。这些性质源自总和极限的定义以及微积分基本定理。

### 线性

对于函数 $f(x)$ 和 $g(x)$ 以及常量 $c, d$：

$$
\int_a^b \big(c f(x) + d g(x)\big)\,dx = c \int_a^b f(x)\,dx + d \int_a^b g(x)\,dx.
$$

这使我们能够将复杂的积分分解为更简单的部分。

### 区间上的可加性

如果 $a < c < b$，那么

$$
\int_a^b f(x)\,dx = \int_a^c f(x)\,dx + \int_c^b f(x)\,dx.
$$

我们可以逐个计算积分。

### 限制的逆转

$$
\int_a^b f(x)\,dx = -\int_b^a f(x)\,dx.
$$

交换边界会改变积分的符号。

### 比较属性

如果 $f(x) \leq g(x)$ 对于 $[a, b]$ 中的所有 $x$，则

$$
\int_a^b f(x)\,dx \leq \int_a^b g(x)\,dx.
$$

这让我们可以在不直接计算的情况下比较面积。

### 绝对值不等式

$$
\left| \int_a^b f(x)\,dx \right| \leq \int_a^b |f(x)|\,dx.
$$

该属性对于分析和收敛测试至关重要。

### 对称性

- 如果 $f(x)$ 是偶数（关于 $y$ 轴对称）：

  $$
  \int_{-a}^a f(x)\,dx = 2\int_0^a f(x)\,dx.
  $$

- 如果 $f(x)$ 是奇数（关于原点对称）：

  $$
  \int_{-a}^a f(x)\,dx = 0.
  $$

### 示例

1.$\int_0^2 (3x^2 + 4)\,dx = \int_0^2 3x^2\,dx + \int_0^2 4\,dx = 8 + 8 = 16.$

2. 由于 $f(x) = x^3$ 是奇数，所以 $\int_{-1}^1 x^3\,dx = 0.$

3. 由于 $f(x) = x^2$ 是偶数，因此 $\int_{-2}^2 x^2\,dx = 2\int_0^2 x^2\,dx = 2\cdot \tfrac{8}{3} = \tfrac{16}{3}.$

### 为什么这些属性很重要

- 它们简化了计算。
- 它们揭示了函数的几何和对称特征。
- 它们为更高级的分析提供理论工具。

### 练习

1. 使用对称性来评估$\int_{-5}^5 (x^4 - x^3)\,dx$。
2. 显示$\int_1^4 (2x+3)\,dx = \int_1^2 (2x+3)\,dx + \int_2^4 (2x+3)\,dx$。
3. 评估 $\int_0^\pi \sin(x)\,dx$ 并与 $\int_{-\pi}^\pi \sin(x)\,dx$ 进行比较。
4. 证明如果 $f(x) \geq 0$ 在 $[a, b]$ 上，则 $\int_a^b f(x)\,dx \geq 0$。
5. 使用偶/奇属性计算 $\int_{-3}^3 (x^2 + 1)\,dx$。

# 第 5 章. 集成技术

## 5.1 替换

最有用的集成技术之一是替换法，也称为 -u-substitution-。它是导数链式法则的逆过程。

### 想法

如果积分包含复合函数，我们可以通过改变变量来简化它。

形式上，如果 $u = g(x)$ 是可微函数，则

$$
\int f(g(x)) g'(x)\,dx = \int f(u)\,du.
$$

这种替换使得积分更容易计算。

### 替换步骤

1. 识别一个内部函数 $u = g(x)$，其导数也出现在被积函数中。
2. 计算$du = g'(x)\,dx$。
3. 用$u$ 重写积分。
4. 针对 $u$ 进行积分。
5. 替换回$u = g(x)$。

### 示例

1、简单替换

   $$
   \int 2x \cos(x^2)\,dx
   $$让$u = x^2$，所以$du = 2x\,dx$。
   那么积分就变成$\int \cos u \,du = \sin u + C = \sin(x^2) + C$。

2. 对数情况

   $$
   \int \frac{2x}{x^2+1}\,dx
   $$

   让$u = x^2 + 1$，所以$du = 2x\,dx$。
   那么积分就变成$\int \frac{1}{u}\,du = \ln|u| + C = \ln(x^2+1) + C$。

3. 三角代换

   $$
   \int \sin(3x)\,dx
   $$

   让$u = 3x$，所以$du = 3\,dx$，因此$dx = \frac{du}{3}$。
   积分变为$\tfrac{1}{3}\int \sin u\,du = -\tfrac{1}{3}\cos u + C = -\tfrac{1}{3}\cos(3x) + C$。

### 带替换的定积分

在计算定积分时，我们还必须更改限制：

$$
\int_a^b f(g(x)) g'(x)\,dx = \int_{g(a)}^{g(b)} f(u)\,du.
$$

示例：

$$
\int_0^1 2x e^{x^2}\,dx.
$$

让$u = x^2$，$du = 2x\,dx$。限制：当 $x=0, u=0$ 时；当 $x=1, u=1$ 时。
所以积分就变成了

$$
\int_0^1 e^u\,du = e - 1.
$$

### 练习

1. 评估$\int (x^2+1)^5 (2x)\,dx$。
2. 计算$\int \frac{\cos x}{\sin x}\,dx$。
3. 使用替换来评估 $\int_0^\pi \sin(2x)\,dx$。
4. 找到$\int e^{3x}\,dx$。
5. 通过让 $u = 1+x^2$ 计算 $\int \frac{1}{\sqrt{1+x^2}}\,dx$。

## 5.2 分部积分

分部积分是一种源自导数乘积规则的技术。它有助于评估涉及仅通过替换无法轻松处理的函数乘积的积分。

### 公式

从乘积规则来看：

$$
\frac{d}{dx}[u(x)v(x)] = u'(x)v(x) + u(x)v'(x).
$$

对两边进行积分，得到分部积分公式：

$$
\int u\,dv = uv - \int v\,du.
$$

这里：

- $u$ = 选择进行微分的函数，
- $dv$ = 要积分的被积函数的剩余部分。

### 选择 $u$ 和 $dv$

常见的准则是 LIATE（对数、反三角、代数、三角、指数）。

- 从最早出现的类别中选择 $u$。
- 选择 $dv$ 作为其余的。

### 示例

1.多项式×指数

$$
\int x e^x\,dx
$$

让$u = x$，$dv = e^x dx$。然后$du = dx$，$v = e^x$。

$$
\int x e^x\,dx = x e^x - \int e^x dx = x e^x - e^x + C.
$$

2.多项式×三角函数

$$
\int x \cos x\,dx
$$

让$u = x$，$dv = \cos x dx$。然后$du = dx$、$v = \sin x$。

$$
\int x \cos x\,dx = x \sin x - \int \sin x dx = x \sin x + \cos x + C.
$$

3. 对数

$$
\int \ln x\,dx
$$

让$u = \ln x$，$dv = dx$。然后$du = \frac{1}{x}dx$，$v = x$。

$$
\int \ln x\,dx = x \ln x - \int 1 dx = x \ln x - x + C.
$$

### 定积分示例

$$
\int_0^1 x e^x\,dx
$$

使用之前的结果：$\int x e^x dx = (x-1)e^x$。
评价：

$$
\big[(x-1)e^x\big]_0^1 = (0)e^1 - (-1)e^0 = 0 + 1 = 1.
$$

### 为什么这很重要

当替换失败时，分部积分至关重要，特别是对于对数、反三角函数以及涉及指数或三角函数多项式的乘积。

### 练习

1. 评估$\int x \sin x\,dx$。
2. 找到$\int e^x \cos x\,dx$。
3. 计算$\int_1^2 \ln x\,dx$。
4. 评估$\int x^2 e^x\,dx$。
5. 使用分部积分来显示$\int \arctan x\,dx = x\arctan x - \tfrac{1}{2}\ln(1+x^2) + C$。

## 5.3 三角积分和代换

许多积分涉及三角函数。这些通常可以使用恒等式或通过进行特殊替换来简化。

### 三角积分

1. 正弦和余弦的幂

- 如果正弦幂为奇数：保存一个 $\sin x$，将其余的用 $\sin^2x = 1 - \cos^2x$ 换算，并代入 $u = \cos x$。
- 如果余弦幂为奇数：保存一个 $\cos x$，将其余的用 $\cos^2x = 1 - \sin^2x$ 转换，并代入 $u = \sin x$。
- 如果两者都是偶数：使用半角恒等式。

示例：

$$
\int \sin^3x \cos x \, dx
$$

让$u = \sin x$，$du = \cos x\,dx$：

$$
\int u^3\,du = \tfrac{u^4}{4} + C = \tfrac{\sin^4x}{4} + C.
$$

2. 不同角度的正弦和余弦的乘积
   使用乘积求和公式：

$$
\sin A \cos B = \tfrac{1}{2}[\sin(A+B) + \sin(A-B)].
$$

示例：

$$
\int \sin(2x)\cos(3x)\,dx = \tfrac{1}{2}\int [\sin(5x) - \sin(x)]\,dx.
$$

3. 割线和切线的幂

- 如果正割幂为偶数：保存$\sec^2x$，将其余部分用$\sec^2x = 1 + \tan^2x$换算，并代入$u = \tan x$。
- 如果正切幂为奇数：保存$\sec^2x$，将余数用$\tan^2x = \sec^2x - 1$换算，代入$u = \tan x$。

示例：

$$
\int \tan^3x \sec^2x \, dx
$$

让$u = \tan x$，$du = \sec^2x\,dx$：

$$
\int u^3\,du = \tfrac{u^4}{4} + C = \tfrac{\tan^4x}{4} + C.
$$

### 三角替换对于涉及 $\sqrt{a^2 - x^2}$、$\sqrt{a^2 + x^2}$ 或 $\sqrt{x^2 - a^2}$ 的积分，请使用特殊替换：

1. $x = a \sin \theta$，用于 $\sqrt{a^2 - x^2}$。
2. $x = a \tan \theta$，用于 $\sqrt{a^2 + x^2}$。
3.$x = a \sec \theta$，用于$\sqrt{x^2 - a^2}$。

示例：

$$
\int \sqrt{a^2 - x^2}\,dx
$$

让$x = a\sin\theta$，所以$dx = a\cos\theta\,d\theta$：

$$
\int \sqrt{a^2 - a^2\sin^2\theta}(a\cos\theta\,d\theta) = \int a^2 \cos^2\theta \, d\theta.
$$

使用半角恒等式进行简化。

### 为什么这些技术很重要

- 他们将困难的代数形式转换为易于管理的三角形式。
- 它们在涉及面积、体积和弧长的问题中特别有用。
- 他们为先进的集成方法奠定了基础。

### 练习

1. 评估$\int \sin^4x \cos^2x \, dx$。
2. 计算$\int \sin(5x)\cos(2x)\,dx$。
3. 评估$\int \tan^2x \sec^2x \, dx$。
4. 使用替换查找 $\int \sqrt{9 - x^2}\,dx$。
5. 使用 $x = a\tan\theta$ 显示 $\int \frac{dx}{\sqrt{x^2 + a^2}} = \ln|x + \sqrt{x^2 + a^2}| + C$。

## 5.4 部分分数

对有理函数（多项式的比率）进行积分时，一种有效的方法是部分分数分解。该技术将复杂的分数表示为更容易积分的简单分数的总和。

### 想法

如果 $R(x) = \frac{P(x)}{Q(x)}$ 是一个有理函数，其中 $P(x)$ 的次数小于 $Q(x)$ 的次数，我们可以将 $R(x)$ 分解为更简单的分数。

这些更简单的部分对应于分母 $Q(x)$ 的因子。

### 常用表格

1. 明显的线性因素
   如果

$$
\frac{1}{(x-a)(x-b)},
$$

然后分解为

$$
\frac{A}{x-a} + \frac{B}{x-b}.
$$

2、重复线性因素
   如果分母为 $(x-a)^n$，则项为

$$
\frac{A_1}{x-a} + \frac{A_2}{(x-a)^2} + \dots + \frac{A_n}{(x-a)^n}.
$$

3. 不可约二次因子
   如果分母有 $(x^2+bx+c)$，则分子是线性的：

$$
\frac{Ax+B}{x^2+bx+c}.
$$

### 示例 1：不同的线性因子

$$
\int \frac{1}{x^2 - 1}\,dx
$$

因子分母：$(x-1)(x+1)$。
分解：

$$
\frac{1}{x^2-1} = \frac{1}{2}\left(\frac{1}{x-1} - \frac{1}{x+1}\right).
$$

整合：

$$
\int \frac{1}{x^2 - 1}\,dx = \tfrac{1}{2}\ln\left|\frac{x-1}{x+1}\right| + C.
$$

### 示例 2：重复线性因子

$$
\int \frac{1}{(x-1)^2}\,dx
$$

这已经很简单了：

$$
\int (x-1)^{-2}\,dx = -\frac{1}{x-1} + C.
$$

### 示例 3：不可约二次因子

$$
\int \frac{x}{x^2+1}\,dx
$$

代入 $u = x^2+1$，或认识到分子是分母的导数。

$$
\int \frac{x}{x^2+1}\,dx = \tfrac{1}{2}\ln(x^2+1) + C.
$$

### 部分分数分解的步骤

1. 因式分解分母。
2. 写出一般部分分数形式。
3. 乘以分母以清除分数。
4. 求解未知常数。
5. 整合每一项。

### 为什么这很重要

- 将复杂的有理函数转换为简单的对数或反正切形式。
- 在微分方程和拉普拉斯变换中特别有用。
- 高级微积分和工程学基础。

### 练习

1.分解并整合$\int \frac{3x+5}{x^2-1}\,dx$。
2. 评估$\int \frac{1}{x^2(x+1)}\,dx$。
3. 计算$\int \frac{2x+1}{x^2+2x+2}\,dx$。
4. 找到$\int \frac{1}{x^3 - x}\,dx$。
5. 使用部分分数或替换来证明$\int \frac{dx}{x^2+1} = \arctan x + C$。

## 5.5 不当积分

有些积分无法直接计算，因为区间无限或被积函数无界。这些称为不正确积分。它们是使用限制来定义的。

### 定义

1.无限间隔

$$
\int_a^\infty f(x)\,dx = \lim_{b \to \infty} \int_a^b f(x)\,dx.
$$

$$
\int_{-\infty}^a f(x)\,dx = \lim_{b \to -\infty} \int_b^a f(x)\,dx.
$$

2. 无界被积函数
   如果 $f(x)$ 在 $c$ 处有垂直渐近线，则

$$
\int_a^c f(x)\,dx = \lim_{t \to c^-} \int_a^t f(x)\,dx,
$$

$$
\int_c^b f(x)\,dx = \lim_{t \to c^+} \int_t^b f(x)\,dx.
$$

### 趋同与发散

- 如果极限存在并且是有限的，则不正确的积分收敛。
- 如果极限不存在或无穷大，则不正确积分发散。

### 示例

1. 指数衰减

$$
\int_1^\infty \frac{1}{x^2}\,dx = \lim_{b \to \infty} \Big[-\tfrac{1}{x}\Big]_1^b = 1.
$$

这样就收敛了。

2. 谐波函数

$$
\int_1^\infty \frac{1}{x}\,dx = \lim_{b \to \infty} \ln b.
$$

这发散到无穷大。

3. 0 处的渐近线

$$
\int_0^1 \frac{1}{\sqrt{x}}\,dx = \lim_{t \to 0^+} \int_t^1 x^{-1/2}\,dx.
$$

$$
= \lim_{t \to 0^+} [2\sqrt{x}]_t^1 = 2.
$$

这样就收敛了。

4. 0 处的渐近线（发散）$$
\int_0^1 \frac{1}{x}\,dx = \lim_{t \to 0^+} \ln(1) - \ln(t).
$$

这从 $\ln(t) \to -\infty$ 开始就出现了分歧。

### 不当积分的比较测试

- 如果大 $x$ 的 $0 \leq f(x) \leq g(x)$ 和 $\int g(x)\,dx$ 收敛，则 $\int f(x)\,dx$ 也收敛。
- 如果 $\int f(x)\,dx$ 发散且 $f(x) \geq g(x) \geq 0$，则 $\int g(x)\,dx$ 也发散。

### 为什么不正确的积分很重要

- 它们将集成扩展到无限领域和无限功能。
- 它们在概率（连续分布）、物理学（重力/电场）和傅立叶分析中至关重要。

### 练习

1. 确定 $\int_1^\infty \frac{1}{x^p}\,dx$ 对于不同的 $p$ 值是否收敛。
2. 评估$\int_0^\infty e^{-x}\,dx$。
3. 根据 $p$ 测试 $\int_0^1 \frac{1}{x^p}\,dx$ 的收敛性。
4. 计算$\int_{-\infty}^\infty \frac{1}{1+x^2}\,dx$。
5. 使用对比测试表明$\int_1^\infty \frac{1}{x^2+1}\,dx$收敛。

# 第 6 章. 集成的应用

## 6.1 面积和体积

积分最重要的应用之一是查找曲线下的面积和实体的体积。

### 曲线之间的区域

如果 $f(x) \geq g(x)$ 在 $[a, b]$ 上，则曲线 $y=f(x)$ 和 $y=g(x)$ 之间的面积为

$$
A = \int_a^b \big(f(x) - g(x)\big)\,dx.
$$

示例：
求 $[0,1]$ 上 $y=x^2$ 和 $y=x$ 之间的面积。

$$
A = \int_0^1 (x - x^2)\,dx = \left[\tfrac{1}{2}x^2 - \tfrac{1}{3}x^3\right]_0^1 = \tfrac{1}{6}.
$$

### 切片卷

如果实体在位置 $x$ 处具有横截面积 $A(x)$，则体积为

$$
V = \int_a^b A(x)\,dx.
$$

### 革命卷

当一个区域绕轴旋转时，可以通过积分求出所得实体的体积。

1、圆盘法
   如果 $y=f(x)$、$x\in[a,b]$ 下的区域绕 $x$ 轴旋转：

$$
V = \pi \int_a^b [f(x)]^2\,dx.
$$

2. 垫圈法
   如果 $y=f(x)$ 和 $y=g(x)$ 之间的区域绕 $x$ 轴旋转：

$$
V = \pi \int_a^b \Big([f(x)]^2 - [g(x)]^2\Big)\,dx.
$$

3. 壳法
   如果 $y=f(x)$ 下的区域绕 $y$ 轴旋转：

$$
V = 2\pi \int_a^b x f(x)\,dx.
$$

### 示例

1、圆盘法
   围绕 $x$ 轴旋转 $y=\sqrt{x}$、$0 \leq x \leq 4$：

$$
V = \pi \int_0^4 (\sqrt{x})^2\,dx = \pi \int_0^4 x\,dx = \pi \left[\tfrac{1}{2}x^2\right]_0^4 = 8\pi.
$$

2. 垫圈法
   绕 $x$ 轴旋转 $y=\sqrt{x}$ 和 $y=1$、$0 \leq x \leq 1$ 之间的区域：

$$
V = \pi \int_0^1 \big((\sqrt{x})^2 - (1)^2\big)\,dx = \pi \int_0^1 (x-1)\,dx = -\tfrac{\pi}{2}.
$$

（取体积的绝对值：$V = \tfrac{\pi}{2}$）。

3. 壳法
   围绕 $y$ 轴旋转 $y=x$、$0 \leq x \leq 1$ 下的区域：

$$
V = 2\pi \int_0^1 x(x)\,dx = 2\pi \int_0^1 x^2\,dx = 2\pi \cdot \tfrac{1}{3} = \tfrac{2\pi}{3}.
$$

### 为什么这很重要

- 提供计算几何面积和体积的精确方法。
- 物理学、工程学和概率学的必备知识。
- 引入几何思维与集成。

### 练习

1. 求 $[0, \pi/2]$ 上 $y=\cos x$ 和 $y=\sin x$ 之间的区域。
2. 计算围绕 $x$ 轴旋转 $y=x^2$、$0 \leq x \leq 1$ 所形成的固体的体积。
3. 求围绕 $y$ 轴旋转 $[0,1]$ 上 $y=x$ 和 $y=\sqrt{x}$ 之间的区域所形成的固体的体积。
4. 使用垫圈法计算围绕 $x$ 轴旋转 $y=\sqrt{1-x^2}$（半圆）形成的固体的体积。
5. 求 $y=x^2+1$ 和 $y=3x$ 之间围成的面积。

## 6.2 弧长和表面积

积分还可用于测量曲线的长度和旋转曲线生成的实体的表面积。

### 弧长

对于区间 $[a,b]$ 上的平滑曲线 $y=f(x)$，曲线的长度为

$$
L = \int_a^b \sqrt{1 + \big(f'(x)\big)^2}\,dx.
$$

这是通过用线段逼近曲线并取极限来实现的。

示例：
求 $y=\tfrac{1}{2}x^{3/2}$ 从 $x=0$ 到 $x=4$ 的长度。

- 导数：$f'(x) = \tfrac{3}{4}\sqrt{x}$。
- 公式：$$
L = \int_0^4 \sqrt{1 + \Big(\tfrac{3}{4}\sqrt{x}\Big)^2}\,dx
= \int_0^4 \sqrt{1 + \tfrac{9}{16}x}\,dx.
$$

可以使用替换来评估该积分。

### 旋转表面积

如果曲线 $y=f(x)$、$a \leq x \leq b$ 绕 $x$ 轴旋转，则所得实体的表面积为

$$
S = 2\pi \int_a^b f(x)\sqrt{1 + \big(f'(x)\big)^2}\,dx.
$$

如果绕 $y$ 轴旋转：

$$
S = 2\pi \int_a^b x \sqrt{1 + \big(f'(x)\big)^2}\,dx.
$$

### 示例

1. 直线的弧长
   对于 $y=x$、$0 \leq x \leq 3$：

$$
L = \int_0^3 \sqrt{1+(1)^2}\,dx = \int_0^3 \sqrt{2}\,dx = 3\sqrt{2}.
$$

2. 球体的表面积
   采用$y = \sqrt{r^2 - x^2}$、$-r \leq x \leq r$，并绕$x$ 轴旋转。

$$
S = 2\pi \int_{-r}^r \sqrt{r^2 - x^2}\sqrt{1+\left(\frac{-x}{\sqrt{r^2-x^2}}\right)^2}\,dx.
$$

简化后得到 $S = 4\pi r^2$，这是球体表面积的常见公式。

### 为什么这很重要

- 弧长将距离的概念延伸到弯曲路径。
- 旋转表面积在物理、工程和设计中具有应用。
- 提供微积分和几何之间的桥梁。

### 练习

1. 求 $y=\sqrt{x}$ 从 $x=0$ 到 $x=4$ 的弧长。
2. 计算围绕 $x$ 轴旋转 $y=x^2$、$0 \leq x \leq 1$ 获得的固体表面积。
3. 求 $y=\ln(\cosh x)$ 从 $x=0$ 到 $x=1$ 的弧长。
4. 证明围绕 $x$ 轴从 $0$ 到 $r$ 旋转 $y=\sqrt{r^2 - x^2}$ 可以得到球体表面积的一半。
5. 通过旋转直线推导出圆锥体表面积的公式。

## 6.3 工作和平均值

积分不限于几何。它还有助于计算力所做的功以及函数在一段时间内的平均值。

### 工作

如果可变力 $F(x)$ 将物体沿直线从 $x=a$ 移动到 $x=b$，则总功为

$$
W = \int_a^b F(x)\,dx.
$$

该公式概括了恒力的简单情况 $W = F \cdot d$。

示例 1：弹簧力（胡克定律）
对于弹簧从长度 $a$ 拉伸到 $b$，力为 $F(x) = kx$：

$$
W = \int_a^b kx\,dx = \tfrac{1}{2}k(b^2-a^2).
$$

示例 2：抽水
如果将水从水箱中抽出，所需的功等于

$$
W = \int_a^b \text{(weight density)} \times \text{(cross-sectional area)} \times \text{(distance lifted)} \, dx.
$$

### 函数的平均值

连续函数 $f(x)$ 在 $[a,b]$ 上的平均值为

$$
f_{\text{avg}} = \frac{1}{b-a} \int_a^b f(x)\,dx.
$$

这是对一系列数字进行平均的连续模拟。

示例1：
对于 $[0,2]$ 上的 $f(x)=x^2$：

$$
f_{\text{avg}} = \tfrac{1}{2-0}\int_0^2 x^2 dx = \tfrac{1}{2}\cdot \tfrac{8}{3} = \tfrac{4}{3}.
$$

示例2：
如果粒子的速度为 $v(t)$，则 $[a,b]$ 上的平均速度为

$$
v_{\text{avg}} = \frac{1}{b-a}\int_a^b v(t)\,dt.
$$

### 为什么这很重要

- 功积分出现在物理、工程和能量计算中。
- 平均值给出了不同数量的单个代表数。
- 两者都将微积分与现实世界的运动、力和效率问题联系起来。

### 练习

1. 如果 $k=10$，则计算将弹簧从 2 m 拉伸到 5 m 所需的功。
2. 100 kg 的物体在重力场 ($g=9.8 \,\text{m/s}^2$) 中垂直提升 5 m。将工作表达为一个整体并进行评估。
3. 求 $[0,\pi]$ 上 $f(x)=\sin x$ 的平均值。
4. 计算 $T(t)=20+5\cos(\tfrac{\pi t}{12})$ 一天 24 小时内的平均温度。
5. 深度为 10 m 的水箱装满水。假设水的重量为 $9800 \,\text{N/m}^3$，计算将所有水抽到顶部所需的功。

## 6.4 概率密度和连续分布

积分在概率论中也起着核心作用，特别是对于连续随机变量。我们用称为概率密度函数 (pdf) 的函数来描述概率，而不是离散结果。### 概率密度函数

概率密度函数 $f(x)$ 必须满足两个条件：

1. $f(x) \geq 0$ 适用于所有 $x$。
2. 曲线下总面积为1：

   $$
   \int_{-\infty}^\infty f(x)\,dx = 1.
   $$

如果 $X$ 是一个 pdf $f(x)$ 的连续随机变量，则 $X$ 位于 $a$ 和 $b$ 之间的概率为

$$
P(a \leq X \leq b) = \int_a^b f(x)\,dx.
$$

### 累积分布函数

累积分布函数 (cdf) 定义为

$$
F(x) = \int_{-\infty}^x f(t)\,dt.
$$

它给出随机变量小于或等于 $x$ 的概率。

### 期望值（平均值）

连续随机变量的期望值是加权平均值：

$$
E[X] = \int_{-\infty}^\infty x f(x)\,dx.
$$

### 示例

1. 均匀分布
   对于 $[a,b]$ 上的 $f(x) = \tfrac{1}{b-a}$：

- 区间 $[c,d]$ 的概率：

  $$
  P(c \leq X \leq d) = \frac{d-c}{b-a}.
  $$
- 预期值：$E[X] = \tfrac{a+b}{2}$。

2. 指数分布
   对于 $f(x) = \lambda e^{-\lambda x}$、$x \geq 0$：

- $\int_0^\infty \lambda e^{-\lambda x}\,dx = 1$。
- 平均值：$E[X] = \tfrac{1}{\lambda}$。

3. 正态分布
   钟形曲线：

$$
f(x) = \frac{1}{\sqrt{2\pi\sigma^2}} e^{-\frac{(x-\mu)^2}{2\sigma^2}}.
$$

它集成为1，但需要先进的技术。

### 为什么这很重要

- 概率密度描述科学、工程和统计学中的不确定性。
- 积分将曲线下的面积与概率连接起来。
- 连续分布将计算结果的想法推广到测量间隔内的可能性。

### 练习

1. 证明 $[a,b]$ 上的均匀密度 $f(x) = \tfrac{1}{b-a}$ 积分为 1。
2. 对于 $\lambda = 2$ 的指数分布，计算 $P(0 \leq X \leq 1)$。
3. 求 $X$ if $f(x) = 3x^2$ on $[0,1]$ 的期望值。
4. 验证均值为 0、方差为 1 的正态分布的总概率为 1（无需充分证明，但请解释其成立原因）。
5. 计算 $[0,1]$ 上均匀分布的 cdf。

# 第三部分。多变量微积分

# 第 7 章向量函数和曲线

## 7.1 向量函数和空间曲线

在多变量微积分中，函数可以输出向量而不是数字。这些称为向量值函数，它们对于描述空间曲线至关重要。

### 定义

向量函数是以下形式的函数

$$
\mathbf{r}(t) = \langle x(t), y(t), z(t) \rangle,
$$

其中 $x(t), y(t), z(t)$ 是实值函数。

- 输入 $t$ 通常称为参数。
- 输出是 2D 或 3D 空间中的向量。
- 3D 向量函数的图像是空间曲线。

### 示例

1. 线路

$$
\mathbf{r}(t) = \langle 1+2t, \; 3-t, \; 4+5t \rangle.
$$

这描述了一条通过点 $(1,3,4)$ 且方向向量为 $\langle 2,-1,5 \rangle$ 的直线。

2. 平面内的圆

$$
\mathbf{r}(t) = \langle \cos t, \; \sin t, \; 0 \rangle, \quad 0 \leq t < 2\pi.
$$

3.螺旋

$$
\mathbf{r}(t) = \langle \cos t, \; \sin t, \; t \rangle.
$$

这是围绕 $z$ 轴上升的螺旋。

### 限制和连续性

如果每个分量 $x(t), y(t), z(t)$ 在 $t=a$ 处连续，则向量函数在 $t=a$ 处连续。

$$
\lim_{t \to a} \mathbf{r}(t) = \langle \lim_{t \to a} x(t), \; \lim_{t \to a} y(t), \; \lim_{t \to a} z(t) \rangle.
$$

### 空间曲线的几何

- 每条曲线都有一个由导数给出的切线方向。
- 空间曲线可以对运动路径、粒子轨迹和几何形状进行建模。

### 为什么这很重要

向量函数是多变量微积分的基础，使我们能够将导数和积分的思想扩展到更高的维度。它们也自然地出现在物理学中（3D 运动、电磁学、流体动力学）。

### 练习1. 为通过 $(0,1,2)$ 并与向量 $\langle 3,-2,1 \rangle$ 平行的直线编写向量函数。
2. 描述$\mathbf{r}(t) = \langle 2\cos t, \; 2\sin t, \; 3 \rangle$ 给出的曲线。
3. 判断$\mathbf{r}(t) = \langle e^t, \; \ln t, \; t^2 \rangle$是否在$t=1$处连续。
4. 绘制螺旋线 $\mathbf{r}(t) = \langle \cos t, \; \sin t, \; 2t \rangle$。
5. 找到 $t=2$ 时曲线 $\mathbf{r}(t) = \langle t, \; t^2, \; t^3 \rangle$ 上的点。

## 7.2 向量函数的导数和积分

向量函数可以像普通函数一样进行微分和积分——我们只需将运算应用于每个分量即可。这使我们能够研究更高维度的运动、速度、加速度和累积。

### 向量函数的导数

如果

$$
\mathbf{r}(t) = \langle x(t), y(t), z(t) \rangle,
$$

然后

$$
\mathbf{r}'(t) = \langle x'(t), y'(t), z'(t) \rangle.
$$

该导数向量指向参数 $t$ 处曲线的切线方向。

- 速度：如果 $\mathbf{r}(t)$ 给出粒子在时间 $t$ 时的位置，则 $\mathbf{v}(t) = \mathbf{r}'(t)$ 是其速度矢量。
- 速度：$|\mathbf{v}(t)|$ 的大小是粒子的速度。
- 加速度：$\mathbf{a}(t) = \mathbf{v}'(t) = \mathbf{r}''(t)$。

### 示例

1. 螺旋

$$
\mathbf{r}(t) = \langle \cos t, \sin t, t \rangle.
$$

- 速度：$\mathbf{v}(t) = \langle -\sin t, \cos t, 1 \rangle$。
- 速度：$|\mathbf{v}(t)| = \sqrt{(-\sin t)^2 + (\cos t)^2 + 1^2} = \sqrt{2}$。
- 加速度：$\mathbf{a}(t) = \langle -\cos t, -\sin t, 0 \rangle$。

2. 抛射运动

$$
\mathbf{r}(t) = \langle v_0 \cos\theta \cdot t, \; v_0 \sin\theta \cdot t - \tfrac{1}{2}gt^2 \rangle.
$$

该模型模拟了重力作用下弹丸的抛物线路径。

### 向量函数的积分

如果

$$
\mathbf{r}(t) = \langle x(t), y(t), z(t) \rangle,
$$

然后

$$
\int \mathbf{r}(t)\,dt = \left\langle \int x(t)\,dt, \; \int y(t)\,dt, \; \int z(t)\,dt \right\rangle + \mathbf{C},
$$

其中 $\mathbf{C}$ 是常数向量。

### 示例

$$
\mathbf{r}(t) = \langle t, t^2, t^3 \rangle.
$$

- 导数：$\mathbf{r}'(t) = \langle 1, 2t, 3t^2 \rangle$。
- 积分：

$$
\int \mathbf{r}(t)\,dt = \langle \tfrac{1}{2}t^2, \tfrac{1}{3}t^3, \tfrac{1}{4}t^4 \rangle + \mathbf{C}.
$$

### 为什么这很重要

- 矢量函数的导数描述空间中的运动和力。
- 积分给出位移、功和累积量。
- 这些工具将微积分直接与物理和工程学联系起来。

### 练习

1. 对于 $\mathbf{r}(t) = \langle t, \cos t, \sin t \rangle$，求速度、速率和加速度。
2. 计算 $\mathbf{r}(t) = \langle e^t, \ln t, t^2 \rangle$ 的 $\mathbf{r}'(t)$。
3. 集成$\mathbf{r}(t) = \langle 1, t, t^2 \rangle$。
4. 粒子的速度为 $\mathbf{v}(t) = \langle t, 2, 0 \rangle$。如果 $\mathbf{r}(0) = \langle 1, 0, 0 \rangle$ 则求其位置向量。
5. 证明$\mathbf{r}(t) = \langle \cos t, \sin t, 0 \rangle$ 的速度恒定。

## 7.3 弧长和曲率

矢量微积分提供的工具不仅可以测量曲线所描绘的路径，还可以测量其弯曲的程度。这些通过弧长和曲率来表达。

### 空间曲线的弧长

如果一条曲线由下式给出

$$
\mathbf{r}(t) = \langle x(t), y(t), z(t) \rangle, \quad a \leq t \leq b,
$$

那么弧长是

$$
L = \int_a^b |\mathbf{r}'(t)|\,dt,
$$

哪里

$$
|\mathbf{r}'(t)| = \sqrt{(x'(t))^2 + (y'(t))^2 + (z'(t))^2}.
$$

示例：
对于螺旋 $\mathbf{r}(t) = \langle \cos t, \sin t, t \rangle, \, 0 \leq t \leq 2\pi$：

- 速度：$\mathbf{r}'(t) = \langle -\sin t, \cos t, 1 \rangle$。
- 速度：$|\mathbf{r}'(t)| = \sqrt{(-\sin t)^2 + (\cos t)^2 + 1^2} = \sqrt{2}$。
- 弧长：

$$
L = \int_0^{2\pi} \sqrt{2}\,dt = 2\pi\sqrt{2}.
$$

### 曲率

曲率测量曲线改变方向的速度。

对于平滑曲线 $\mathbf{r}(t)$：

$$
\kappa(t) = \frac{|\mathbf{r}'(t) \times \mathbf{r}''(t)|}{|\mathbf{r}'(t)|^3}.
$$

- $\kappa = 0$：直线。
- 较大的$\kappa$：曲线弯曲得更加剧烈。

示例：
对于半径为 $r$ 的圆：

$$
\mathbf{r}(t) = \langle r\cos t, r\sin t \rangle.
$$

然后$\kappa = \tfrac{1}{r}$。
因此曲率是恒定的并且与半径成反比。

### 单位切线和法线向量

- 切线向量：

$$
\mathbf{T}(t) = \frac{\mathbf{r}'(t)}{|\mathbf{r}'(t)|}.
$$

- 法线向量：指向曲率中心，定义为

$$
\mathbf{N}(t) = \frac{\mathbf{T}'(t)}{|\mathbf{T}'(t)|}.
$$

这些矢量描述了运动的几何形状：行进方向和转弯方向。

### 为什么这很重要

- 弧长概括了空间中曲线距离的概念。
- 曲率描述弯曲，这在物理学（向心加速度）、工程（道路、过山车）和计算机图形学中至关重要。

### 练习1. 求 $\mathbf{r}(t) = \langle t, t^2, 0 \rangle$ 从 $t=0$ 到 $t=1$ 的弧长。
2. 计算圆$\mathbf{r}(t) = \langle \cos t, \sin t \rangle$ 的曲率。
3. 对于$\mathbf{r}(t) = \langle t, \cos t, \sin t \rangle$，计算$|\mathbf{r}'(t)|$。
4. 证明直线有曲率$\kappa = 0$。
5. 在 $t=0$ 处找到 $\mathbf{r}(t) = \langle e^t, e^{-t}, t \rangle$ 的切向量。

## 7.4 空间运动

矢量函数在描述二维或三维运动方面尤其强大。位置、速度和加速度自然地使用向量值函数的导数和积分来表示。

### 位置、速度和加速度

- 位置向量：

$$
\mathbf{r}(t) = \langle x(t), y(t), z(t) \rangle
$$

- 速度矢量（位置的导数）：

$$
\mathbf{v}(t) = \mathbf{r}'(t) = \langle x'(t), y'(t), z'(t) \rangle
$$

- 速度（速度大小）：

$$
|\mathbf{v}(t)| = \sqrt{(x'(t))^2 + (y'(t))^2 + (z'(t))^2}
$$

- 加速度矢量（速度的导数）：

$$
\mathbf{a}(t) = \mathbf{v}'(t) = \mathbf{r}''(t).
$$

### 切向和法向分量

加速度可以分解为两个部分：

$$
\mathbf{a}(t) = a_T \mathbf{T}(t) + a_N \mathbf{N}(t),
$$

其中：

- $\mathbf{T}(t)$ = 单位切向量，
- $\mathbf{N}(t)$ = 主法线向量，
- $a_T = \frac{d}{dt}|\mathbf{v}(t)|$ = 切向加速度（速度变化），
- $a_N = \kappa |\mathbf{v}(t)|^2$ = 正常加速度（方向改变）。

### 3D 投射运动

重力作用于 $-z$ 方向：

$$
\mathbf{r}(t) = \langle v_0 \cos\theta \cos\phi \cdot t,\; v_0 \cos\theta \sin\phi \cdot t,\; v_0 \sin\theta \cdot t - \tfrac{1}{2}gt^2 \rangle,
$$

其中 $v_0$ 是初始速度，$\theta$ 发射角度和 $\phi$ 方位角方向。

### 示例：螺旋运动

$$
\mathbf{r}(t) = \langle \cos t, \sin t, t \rangle
$$

- 速度：$\mathbf{v}(t) = \langle -\sin t, \cos t, 1 \rangle$。
- 速度：$|\mathbf{v}(t)| = \sqrt{2}$。
- 加速度：$\mathbf{a}(t) = \langle -\cos t, -\sin t, 0 \rangle$。
- 运动速度均匀，呈螺旋式上升。

### 为什么这很重要

- 为现实世界的运动提供数学语言。
- 物理学中的必备知识（力、轨迹、圆周运动）。
- 先进力学和工程模型的基础。

### 练习

1. 粒子沿 $\mathbf{r}(t) = \langle t, t^2, t^3 \rangle$ 移动。求 $t=1$ 处的速度和加速度。
2. 证明螺旋 $\mathbf{r}(t) = \langle \cos t, \sin t, t \rangle$ 的速度是恒定的。
3. 射弹以 $v_0 = 20 \,\text{m/s}$ 以角度 $45^\circ$ 发射。假设在垂直平面上运动，写出其位置向量。
4. 对于 $\mathbf{r}(t) = \langle e^t, e^{-t}, t \rangle$，找到 $\mathbf{v}(t)$ 和 $\mathbf{a}(t)$。
5. 将加速度矢量分解为沿半径 $r$ 的圆运动的切向分量和法向分量。

# 第 8 章. 多个变量的函数

## 8.1 多个变量的极限和连续性

在多变量微积分中，函数可能取决于两个或多个变量，例如 $f(x,y)$ 或 $f(x,y,z)$。极限和连续性的概念自然地从单变量微积分延伸出来，但它们更加微妙，因为我们必须考虑所有可能的方法路径。

### 两个变量的极限

对于函数 $f(x,y)$，我们说

$$
\lim_{(x,y) \to (a,b)} f(x,y) = L
$$

当 $(x,y)$ 沿任意路径接近 $(a,b)$ 时，如果 $f(x,y)$ 任意接近 $L$。

如果不同的路径给出不同的极限值，则极限不存在。

示例 1（存在限制）：

$$
f(x,y) = x^2 + y^2, \quad \lim_{(x,y) \to (0,0)} f(x,y) = 0.
$$

示例2（限制不存在）：

$$
f(x,y) = \frac{xy}{x^2+y^2}, \quad (x,y) \to (0,0).
$$

- 沿 $y=0$，函数为 0。
- 沿着$y=x$，函数是$\tfrac{1}{2}$。
  结果不同→极限不存在。

### 连续性

函数 $f(x,y)$ 在 $(a,b)$ 处连续，如果

$$
\lim_{(x,y)\to(a,b)} f(x,y) = f(a,b).
$$

多项式和有理函数（其中分母 ≠ 0）在其域中处处连续。

### 扩展到三个或更多变量对于 $f(x,y,z)$，极限和连续性的定义方式相同，但必须从空间中的无限多个方向逼近点 $(a,b,c)$。

### 为什么这很重要

- 连续性确保多变量函数中没有跳跃、空洞或渐近线。
- 极限是定义偏导数和多重积分的基础。
- 这些概念是多变量微积分的构建块。

### 练习

1、判断$\lim_{(x,y)\to(0,0)} (x^2+y^2)$是否存在。
2. 证明 $\lim_{(x,y)\to(0,0)} \frac{x^2y}{x^2+y^2} = 0$ 沿着所有直线路径 $y=mx$。
3. $f(x,y) = \frac{x^2-y^2}{x^2+y^2}$ 与 $(x,y)\to(0,0)$ 一样存在极限吗？
4. 解释为什么两个变量的多项式处处连续。
5. 给出一个在一点不连续的两变量函数的例子，并解释原因。

## 8.2 偏导数

在多变量函数中，我们经常想要测量当只有一个变量发生变化而其他变量保持不变时函数如何变化。这就引出了偏导数的想法。

### 定义

对于函数 $f(x,y)$，在点 $(a,b)$ 处相对于 $x$ 的偏导数为

$$
\frac{\partial f}{\partial x}(a,b) = \lim_{h \to 0} \frac{f(a+h, b) - f(a,b)}{h}.
$$

类似地，关于 $y$ 的偏导数为

$$
\frac{\partial f}{\partial y}(a,b) = \lim_{h \to 0} \frac{f(a, b+h) - f(a,b)}{h}.
$$

微分时我们将所有其他变量视为常量。

### 符号

- $\frac{\partial f}{\partial x}$、$f_x$、$\partial_x f$。
- $\frac{\partial f}{\partial y}$、$f_y$、$\partial_y f$。

对于三个变量 $f(x,y,z)$，我们还有 $f_x, f_y, f_z$。

### 示例

1.$f(x,y) = x^2y + y^3$

- $f_x = 2xy$。
- $f_y = x^2 + 3y^2$。

2.$f(x,y) = e^{xy}$

- $f_x = y e^{xy}$。
- $f_y = x e^{xy}$。

3.$f(x,y,z) = x^2 + yz$

- $f_x = 2x$。
- $f_y = z$。
- $f_z = y$。

### 高阶偏导数

我们可以重复求偏导数：

- $f_{xx} = \frac{\partial}{\partial x}\Big(f_x\Big)$。
- $f_{yy}, f_{xy}, f_{yx}$ 等

克莱洛定理：如果 $f$ 具有连续的二阶偏导数，则

$$
f_{xy} = f_{yx}.
$$

### 几何意义

- $f_x$：表面在 $x$ 方向的斜率。
- $f_y$：表面在 $y$ 方向的斜率。
- 它们一起描述了表面如何倾斜。

### 为什么这很重要

- 偏导数是梯度、切平面和多变量优化的基础。
- 它们广泛应用于物理、工程和经济学领域，用于对具有多个输入的系统进行建模。

### 练习

1. 查找 $f(x,y) = x^3y^2$ 的 $f_x$ 和 $f_y$。
2. 计算 $f(x,y,z) = xyz + x^2$ 的 $f_x, f_y, f_z$。
3. 验证 $f(x,y) = x^2y + y^3$ 的 Clairaut 定理。
4. 从几何角度解释 $f_x$ 和 $f_y$ 对于 $f(x,y) = \sqrt{x^2+y^2}$ 意味着什么。
5. 求$f(x,y) = e^{x^2+y^2}$ 的所有二阶偏导数。

## 8.3 梯度和方向导数

偏导数测量沿坐标轴的变化，但有时我们想知道函数在任何方向上的变化率。这就引出了梯度和方向导数的概念。

### 梯度向量

对于函数 $f(x,y)$，梯度是向量

$$
\nabla f(x,y) = \left\langle \frac{\partial f}{\partial x}, \frac{\partial f}{\partial y} \right\rangle.
$$

对于三个变量 $f(x,y,z)$：

$$
\nabla f(x,y,z) = \left\langle f_x, f_y, f_z \right\rangle.
$$

梯度指向函数最大增加的方向，其大小给出最陡的斜率。

### 方向导数

单位向量 $\mathbf{u} = \langle u_1, u_2 \rangle$ 方向上一点的 $f(x,y)$ 的变化率为

$$
D_{\mathbf{u}} f(x,y) = \nabla f(x,y) \cdot \mathbf{u}.
$$

这是梯度与方向向量的点积。

### 示例

1.$f(x,y) = x^2 + y^2$- 梯度：$\nabla f = \langle 2x, 2y \rangle$。
- 在 (1,2) 处：$\nabla f = \langle 2,4 \rangle$。
- 沿 $\mathbf{u} = \langle \tfrac{3}{5}, \tfrac{4}{5} \rangle$ 的方向导数：

$$
D_{\mathbf{u}} f(1,2) = \langle 2,4 \rangle \cdot \langle \tfrac{3}{5}, \tfrac{4}{5} \rangle = \tfrac{26}{5}.
$$

2.$f(x,y,z) = x y z$

- 梯度：$\nabla f = \langle yz, xz, xy \rangle$。
- 在 (1,1,1)：$\nabla f = \langle 1,1,1 \rangle$。
- 最大增加方向沿$\langle 1,1,1 \rangle$。

### 几何解释

- 梯度矢量垂直（法向）于 $f$ 的水平曲线或水平表面。
- 方向导数概括了任意方向的斜率。

### 为什么这很重要

- 在优化中，梯度告诉我们最陡上升或下降的移动方向。
- 在物理学中，梯度描述了热流和电势等场。
- 方向导数统一了单变量和多变量的变化率。

### 练习

1. 计算 $f(x,y) = e^{xy}$ 的 $\nabla f(x,y)$。
2. 求 $f(x,y,z) = x^2+y^2+z^2$ 的梯度并在 (1,1,1) 处求值。
3. 计算$f(x,y) = x^2-y$ 在(2,1) 处沿$\mathbf{u} = \langle 0,1 \rangle$ 方向的方向导数。
4. 证明$f(x,y) = x^2+y^2$ 的梯度垂直于圆$x^2+y^2=1$。
5. 找到使 $f(x,y) = xy$ 在 (1,2) 处的方向导数最大化的单位向量方向。

## 8.4 切平面和线性近似

在单变量微积分中，切线近似于点附近的曲线。在多元微积分中，类似的概念是切平面，它提供了点附近曲面的线性近似。

### 曲面的切平面

假设 $z = f(x,y)$ 在 $(a,b)$ 处可微。 $(a,b,f(a,b))$ 处的切平面由下式给出

$$
z = f(a,b) + f_x(a,b)(x-a) + f_y(a,b)(y-b).
$$

该平面在该点处接触曲面并在附近对其进行近似。

### 示例 1：抛物面

对于 $(1,2)$ 处的 $f(x,y) = x^2 + y^2$：

- $f(1,2) = 1^2+2^2=5$。
- $f_x = 2x$，所以 $f_x(1,2) = 2$。
- $f_y = 2y$，所以 $f_y(1,2) = 4$。

切平面方程：

$$
z = 5 + 2(x-1) + 4(y-2).
$$

### 线性近似

切平面可用于在 $(a,b)$ 附近近似 $f(x,y)$：

$$
f(x,y) \approx f(a,b) + f_x(a,b)(x-a) + f_y(a,b)(y-b).
$$

这是 $f$ 在 $(a,b)$ 处的线性化。

### 示例 2：线性近似

大约 $f(x,y) = \sqrt{x+y}$ 靠近 $(4,5)$。

- $f(4,5) = \sqrt{9} = 3$。
- $f_x = \frac{1}{2\sqrt{x+y}}, \quad f_y = \frac{1}{2\sqrt{x+y}}$。
- 在 (4,5)：$f_x = f_y = \tfrac{1}{6}$。

所以，

$$
f(x,y) \approx 3 + \tfrac{1}{6}(x-4) + \tfrac{1}{6}(y-5).
$$

### 为什么这很重要

- 切平面给出了表面的最佳线性近似。
- 线性化简化了复杂的计算函数。
- 广泛应用于数值方法、物理学和经济学。

### 练习

1. 在 $(1,1)$ 处找到 $z = x^2y + y^2$ 的切平面。
2. 近似 $f(x,y) = e^{x+y}$ 靠近 $(0,0)$。
3. 推导 $z = \ln(x^2+y^2)$ 在 $(1,1)$ 处的切平面方程。
4. 使用 (4,6) 附近的 $f(x,y) = \sqrt{x+y}$ 使用线性近似来估计 $\sqrt{10.1}$。
5. 解释为什么当 $(x,y)$ 越来越接近 $(a,b)$ 时，切平面近似会改善。

## 8.5 多个变量的优化

多变量微积分中的优化将最大值和最小值的概念从单变量函数扩展到两个或多个变量的函数。

### 关键点

对于 $f(x,y)$，出现一个临界点：

$$
f_x(x,y) = 0 \quad \text{and} \quad f_y(x,y) = 0,
$$

或偏导数不存在的情况。

### 二阶导数测试

要对临界点进行分类，请计算二阶偏导数：

$$
D = f_{xx}(a,b) f_{yy}(a,b) - \big(f_{xy}(a,b)\big)^2.
$$

- 如果 $D > 0$ 和 $f_{xx}(a,b) > 0$：局部最小值。
- 如果 $D > 0$ 和 $f_{xx}(a,b) < 0$：局部最大值。
- 如果 $D < 0$：鞍点。
- 如果$D = 0$：测试没有结论。

### 示例 1：抛物面

$f(x,y) = x^2 + y^2$。- $f_x = 2x, f_y = 2y$。临界点位于 (0,0)。
- $f_{xx} = 2, f_{yy} = 2, f_{xy} = 0$。
- $D = (2)(2) - 0 = 4 > 0$ 和 $f_{xx} > 0$。
- 所以 (0,0) 是局部最小值。

### 示例 2：鞍点

$f(x,y) = x^2 - y^2$。

- $f_x = 2x, f_y = -2y$。临界点位于 (0,0)。
- $f_{xx} = 2, f_{yy} = -2, f_{xy} = 0$。
- $D = (2)(-2) - 0 = -4 < 0$。
- 所以 (0,0) 是鞍点。

### 约束优化和拉格朗日乘子

有时，我们希望在 $g(x,y) = c$ 约束下优化 $f(x,y)$。

拉格朗日乘子法：求解

$$
\nabla f(x,y) = \lambda \nabla g(x,y).
$$

示例：根据 $x^2+y^2=1$ 最大化 $f(x,y) = xy$。

- 渐变：$\nabla f = \langle y,x \rangle, \quad \nabla g = \langle 2x,2y \rangle$。
- 方程：$y = 2\lambda x, \, x = 2\lambda y$。
- 解决方案导致最大值为 $(\pm \tfrac{1}{\sqrt{2}}, \pm \tfrac{1}{\sqrt{2}})$。

### 为什么这很重要

- 优化在经济学、工程、机器学习和物理学中至关重要。
- 拉格朗日乘子允许在约束条件下进行优化，这是应用数学中的一个关键工具。

### 练习

1. 找出$f(x,y) = x^2+xy+y^2$的临界点并进行分类。
2. 对 $f(x,y) = x^3-y^3$ 的点 (0,0) 进行分类。
3. 对 $f(x,y) = x^4+y^4-4xy$ 使用二阶导数检验。
4. 在 $x^2+y^2=1$ 的前提下最大化 $f(x,y) = x+y$。
5. 根据 $x+y=1$ 最小化 $f(x,y) = x^2+2y^2$。

# 第 9 章. 多重积分

## 9.1 二重积分

在单变量微积分中，定积分给出了曲线下的面积。在两个变量中，二重积分计算表面下的体积（或更一般地说，计算区域上值的累积）。

### 定义

如果 $f(x,y)$ 在区域 $R$ 上连续，则二重积分为

$$
\iint_R f(x,y)\, dA = \lim_{m,n \to \infty} \sum_{i=1}^m \sum_{j=1}^n f(x_{ij}^-, y_{ij}^-) \Delta A,
$$

其中 $R$ 被划分为面积 $\Delta A$ 的小矩形。

### 迭代积分

根据富比尼定理，我们可以将二重积分计算为迭代积分：

$$
\iint_R f(x,y)\, dA = \int_a^b \int_c^d f(x,y)\, dy\, dx,
$$

如果 $R$ 是一个矩形 $[a,b] \times [c,d]$。

积分顺序通常可以互换：

$$
\int_a^b \int_c^d f(x,y)\,dy\,dx = \int_c^d \int_a^b f(x,y)\,dx\,dy.
$$

### 示例

1. 矩形区域

$$
\iint_R (x+y)\, dA, \quad R=[0,1]\times[0,2].
$$

$$
= \int_0^1 \int_0^2 (x+y)\,dy\,dx = \int_0^1 \Big[xy+\tfrac{1}{2}y^2\Big]_0^2 dx
= \int_0^1 (2x+2)dx = 3.
$$

2. 三角形区域

$$
R = \{(x,y): 0 \leq x \leq 1, 0 \leq y \leq x\}.
$$

$$
\iint_R (x+y)\, dA = \int_0^1 \int_0^x (x+y)\,dy\,dx.
$$

评估给出$\tfrac{2}{3}$。

### 应用程序

- 表面下的体积：

$$
V = \iint_R f(x,y)\, dA.
$$

- 区域内函数的平均值：

$$
f_{\text{avg}} = \frac{1}{A(R)} \iint_R f(x,y)\, dA.
$$

### 为什么这很重要

二重积分将积分扩展到二维。它们在物理学（质量、概率分布）、经济学（期望值）和工程（质心、通量）中至关重要。

### 练习

1. 评估 $\iint_R (x^2+y^2)\, dA$ 其中 $R=[0,1]\times[0,1]$。
2. 计算 $\iint_R xy\, dA$ 其中 $R=\{(x,y):0\leq x\leq2,0\leq y\leq x\}$。
3. 求单位正方形 $[0,1]\times[0,1]$ 上 $f(x,y) = x+y$ 的平均值。
4. 如果 $f(x,y)$ 是概率密度函数，则用概率解释 $\iint_R f(x,y)\, dA$。
5. 表明切换积分顺序对于 $\iint_{[0,1]\times[0,2]} (x+y)\,dA$ 给出相同的结果。

## 9.2 三重积分

三重积分将积分的思想扩展到三个变量，使我们能够计算三维区域中的体积、质量和其他量。

### 定义

如果 $f(x,y,z)$ 在实体区域 $E$ 上连续，则三重积分为

$$
\iiint_E f(x,y,z)\, dV = \lim_{m,n,p \to \infty} \sum f(x_{ijk}^-, y_{ijk}^-, z_{ijk}^-) \Delta V,
$$

该区域被细分为体积为 $\Delta V$ 的盒子。

### 迭代积分

根据富比尼定理，三重积分可以计算为迭代积分：

$$
\iiint_E f(x,y,z)\, dV = \int_a^b \int_c^d \int_e^f f(x,y,z)\, dz\, dy\, dx,
$$

对于矩形盒子 $E = [a,b]\times[c,d]\times[e,f]$。

为了方便起见，可以选择积分的顺序。

### 示例

1.长方形盒子

$$
\iiint_E xyz\, dV, \quad E=[0,1]\times[0,2]\times[0,3].
$$

$$
= \int_0^1 \int_0^2 \int_0^3 xyz\,dz\,dy\,dx.
$$

首先在 $z$ 上集成：

$$
\int_0^3 xyz\,dz = xy \left[\tfrac{1}{2}z^2\right]_0^3 = \tfrac{9}{2}xy.
$$

现在通过 $y$ 进行集成：

$$
\int_0^2 \tfrac{9}{2}xy\,dy = \tfrac{9}{2}x \cdot \left[\tfrac{1}{2}y^2\right]_0^2 = 9x.
$$

最后在 $x$ 上积分：

$$
\int_0^1 9x\,dx = \tfrac{9}{2}.
$$2. 以平面为界的区域
   让$E = \{(x,y,z) \mid 0 \leq x \leq 1, 0 \leq y \leq x, 0 \leq z \leq y\}$。

$$
\iiint_E 1\,dV = \int_0^1 \int_0^x \int_0^y 1\,dz\,dy\,dx.
$$

评价：

$$
= \int_0^1 \int_0^x y\,dy\,dx = \int_0^1 \tfrac{1}{2}x^2\,dx = \tfrac{1}{6}.
$$

所以这个三角形区域的体积是$\tfrac{1}{6}$。

### 应用程序

- 卷：$V = \iiint_E 1 \, dV$。
- 质量：如果密度为 $\rho(x,y,z)$，则

  $$
  M = \iiint_E \rho(x,y,z)\, dV.
  $$
- 平均值：

  $$
  f_{\text{avg}} = \frac{1}{V(E)} \iiint_E f(x,y,z)\,dV.
  $$

### 为什么这很重要

三重积分将面积和体积计算推广到任意固体。它们用于物理学（质量分布、质心、引力场）、工程和概率。

### 练习

1. 在立方体 $E=[0,1]\times[0,1]\times[0,1]$ 上计算 $\iiint_E (x+y+z)\,dV$。
2. 求以 $x=0, y=0, z=0, x+y+z=1$ 为界的四面体的体积。
3. 评估 $\iiint_E x^2 \, dV$，其中 $E=[0,2]\times[0,1]\times[0,1]$。
4. 证明$\iiint_E 1\,dV$ 等于$E$ 的几何体积。
5. 如果密度为 $\rho(x,y,z)=x+y+z$，则计算单位立方体的质量。

## 9.3 应用：体积、质量、概率

三重积分非常强大，因为它们允许我们通过累加固体区域上的值来计算三维量。

### 音量

最简单的应用是求区域 $E$ 的体积：

$$
V = \iiint_E 1 \, dV.
$$

示例：
求由坐标平面和平面 $x+y+z=1$ 界定的实体的体积。

$$
V = \iiint_E 1 \, dV = \int_0^1 \int_0^{1-x} \int_0^{1-x-y} 1 \, dz\, dy\, dx.
$$

评估给出$V = \tfrac{1}{6}$。

### 质量和密度

如果固体具有密度函数 $\rho(x,y,z)$，则其质量为

$$
M = \iiint_E \rho(x,y,z)\, dV.
$$

质心由下式给出

$$
\bar{x} = \frac{1}{M}\iiint_E x\rho(x,y,z)\,dV, \quad
\bar{y} = \frac{1}{M}\iiint_E y\rho(x,y,z)\,dV, \quad
\bar{z} = \frac{1}{M}\iiint_E z\rho(x,y,z)\,dV.
$$

示例：
对于具有恒定密度 $\rho=1$ 的单位立方体，质心位于 $(0.5,0.5,0.5)$ 处。

### 概率

如果 $f(x,y,z)$ 是 3D 中的概率密度函数，则随机变量位于区域 $E$ 中的概率为

$$
P(E) = \iiint_E f(x,y,z)\, dV,
$$

其中 $f(x,y,z) \geq 0$ 和

$$
\iiint_{\mathbb{R}^3} f(x,y,z)\,dV = 1.
$$

示例：
如果 $f(x,y,z) = \tfrac{3}{4}z^2$ 为 $0 \leq z \leq 1$，统一在 $x,y$ 中，则

$$
P(0 \leq z \leq 0.5) = \int_0^{0.5} \tfrac{3}{4}z^2 \, dz = \tfrac{1}{32}.
$$

### 为什么这很重要

- 体积将几何形状概括为不规则实体。
- 质量和密度积分将微积分与物理和工程学联系起来。
- 高维概率密度函数广泛应用于统计学和数据科学。

### 练习

1. 求以 $x^2+y^2+z^2 \leq 1$（单位球体）为界的固体体积。
2. 计算密度与 $z$ 成比例的圆锥体的质量。
3. 求以 $x=0, y=0, z=0, x+y+z=1$ 为界的均匀四面体的质心。
4. 如果 $f(x,y,z) = \frac{1}{8}$ 在立方体 $[0,2]\times[0,2]\times[0,2]$ 上，验证它是概率密度函数。
5. 使用三重积分计算单位球内随机选择的点具有 $z > 0$ 的概率。

## 9.4 变量变化：极坐标、柱坐标、球坐标

当用与区域对称性匹配的坐标系表示时，许多积分变得更容易。我们可以使用极坐标、柱坐标或球坐标来代替笛卡尔坐标 $(x,y,z)$。

### 极坐标（2D）

对于两个变量的函数，我们可以切换到极坐标：

$$
x = r\cos\theta, \quad y = r\sin\theta, \quad r \geq 0, \; 0 \leq \theta < 2\pi.
$$

面积元素变换为

$$
dA = r\,dr\,d\theta.
$$

示例：
求单位圆的面积。

$$
A = \iint_{x^2+y^2\leq 1} 1\,dA = \int_0^{2\pi}\int_0^1 r\,dr\,d\theta = \pi.
$$

### 圆柱坐标（3D）

在 3D 中，柱坐标用 $z$ 扩展极坐标：

$$
x = r\cos\theta, \quad y = r\sin\theta, \quad z = z.
$$

体积元素为

$$
dV = r\,dr\,d\theta\,dz.
$$

示例：
半径为 $R$ 且高度为 $h$ 的圆柱体的体积：

$$
V = \int_0^h \int_0^{2\pi} \int_0^R r\,dr\,d\theta\,dz = \pi R^2 h.
$$

### 球坐标（3D）

对于球对称，请使用：

$$
x = \rho \sin\phi \cos\theta, \quad y = \rho \sin\phi \sin\theta, \quad z = \rho \cos\phi,
$$

哪里- $\rho \geq 0$ 是距原点的距离，
- $0 \leq \phi \leq \pi$ 是与正 $z$ 轴的角度，
- $0 \leq \theta < 2\pi$ 是 $xy$ 平面中的角度。

体积元素为

$$
dV = \rho^2 \sin\phi \, d\rho\, d\phi\, d\theta.
$$

示例：
单位球体的体积：

$$
V = \int_0^{2\pi} \int_0^\pi \int_0^1 \rho^2 \sin\phi \, d\rho\, d\phi\, d\theta.
$$

评估：

$$
V = \left(\int_0^1 \rho^2 d\rho\right)\left(\int_0^\pi \sin\phi d\phi\right)\left(\int_0^{2\pi} d\theta\right) = \tfrac{1}{3}(2)(2\pi) = \tfrac{4\pi}{3}.
$$

### 为什么这很重要

- 极坐标简化了圆形区域。
- 圆柱坐标处理圆柱体和旋转对称。
- 球坐标简化了球体、圆锥体和径向问题。
- 这些变量的变化使得原本不可能的积分变得易于管理。

### 练习

1. 使用极坐标计算 $\iint_{x^2+y^2\leq 4} (x^2+y^2)\,dA$。
2. 使用柱坐标计算高度 $h$ 和半径 $R$ 的圆锥体的体积。
3. 使用球坐标计算半径为 $R$ 的球的体积。
4. 证明极坐标的雅可比因子为$r$。
5. 使用球坐标求出半径为 $R$ 的实心球的质量，其密度与距原点的距离成正比。

# 第 10 章向量微积分

## 10.1 向量场

矢量场为空间中的每个点分配一个矢量，就像标量函数分配一个数字一样。矢量场用于对流、力和其他方向量进行建模。

### 定义

在二维中，向量场是一个函数

$$
\mathbf{F}(x,y) = \langle P(x,y), Q(x,y) \rangle,
$$

其中 $P$ 和 $Q$ 是标量函数。

在三个维度上，

$$
\mathbf{F}(x,y,z) = \langle P(x,y,z), Q(x,y,z), R(x,y,z) \rangle.
$$

### 示例

1. 径向场

$$
\mathbf{F}(x,y) = \langle x, y \rangle.
$$

向量从原点向外指向。

2.旋转场

$$
\mathbf{F}(x,y) = \langle -y, x \rangle.
$$

向量围绕原点循环。

3、引力场

$$
\mathbf{F}(x,y,z) = -\frac{GM}{r^3}\langle x,y,z \rangle, \quad r=\sqrt{x^2+y^2+z^2}.
$$

### 可视化向量场

- 在样本点绘制小箭头以指示方向和大小。
- 幅度较大的箭头较密。
- 对于解释流线、轨迹和力很有用。

### 流线

矢量场的流线（或积分曲线）是一条曲线 $\mathbf{r}(t)$，其每个点的切向量与该场相匹配：

$$
\mathbf{r}'(t) = \mathbf{F}(\mathbf{r}(t)).
$$

流线描述了速度场中的粒子路径。

### 为什么这很重要

- 矢量场是物理学的基础（流体流动、电磁学、引力）。
- 它们构成了线积分、面积分和矢量微积分大定理（格林、斯托克斯、散度）的基础。
- 提供一种几何方法来表示方向量。

### 练习

1. 绘制矢量场 $\mathbf{F}(x,y) = \langle y, -x \rangle$。
2. 确定$\mathbf{F}(x,y) = \langle x,y \rangle$ 的向量是指向原点还是远离原点。
3. 对于 $\mathbf{F}(x,y,z) = \langle y, z, x \rangle$，计算 $\mathbf{F}(1,2,3)$。
4. 描述$\mathbf{F}(x,y) = \langle -y, x \rangle$的流程。
5. 解释为什么引力场和电场是径向矢量场的例子。

## 10.2 线积分

线积分将积分的概念扩展到沿曲线求值的函数。我们不是在区间或区域上进行积分，而是在空间中的路径上进行积分。

### 定义：标量线积分

如果 $f(x,y)$ 是标量函数，而 $C$ 是由 $\mathbf{r}(t) = \langle x(t), y(t) \rangle, \; a \leq t \leq b$ 参数化的曲线，则线积分为

$$
\int_C f(x,y)\, ds = \int_a^b f(x(t),y(t)) \, |\mathbf{r}'(t)|\, dt,
$$

其中 $ds$ 是弧长。

这测量了 $f$ 沿曲线的累积。

### 定义：矢量线积分

对于向量场 $\mathbf{F}(x,y) = \langle P(x,y), Q(x,y) \rangle$，沿 $C$ 的线积分为

$$
\int_C \mathbf{F} \cdot d\mathbf{r} = \int_a^b \mathbf{F}(\mathbf{r}(t)) \cdot \mathbf{r}'(t)\, dt.
$$这测量了磁场沿曲线所做的功。

### 示例

1. 标量线积分

$$
f(x,y) = x+y, \quad C: \mathbf{r}(t) = \langle t, t^2 \rangle, \; 0 \leq t \leq 1.
$$

然后

$$
\int_C f(x,y)\, ds = \int_0^1 (t+t^2)\sqrt{(1)^2+(2t)^2}\, dt.
$$

2. 力做功

$$
\mathbf{F}(x,y) = \langle y, x \rangle, \quad C: \mathbf{r}(t) = \langle t, t^2 \rangle, \; 0 \leq t \leq 1.
$$

$$
\int_C \mathbf{F} \cdot d\mathbf{r} = \int_0^1 \langle t^2, t \rangle \cdot \langle 1, 2t \rangle\, dt = \int_0^1 (t^2 + 2t^2)\, dt = \int_0^1 3t^2\, dt = 1.
$$

### 物理解释

- 标量线积分：沿线的密度累积。
- 矢量线积分：沿着路径移动物体的力所做的功。

### 为什么这很重要

- 线积分将矢量场与功和循环等物理量联系起来。
- 它们是格林定理和斯托克斯定理的基础。
- 出现在物理学中（电势、流体流动、力学）。

### 练习

1. 计算 $\int_C (x^2+y^2)\, ds$，其中 $C$ 是从 (0,0) 到 (1,1) 的线段。
2. 沿着单位圆 $x^2+y^2=1$ 计算 $\int_C \mathbf{F}\cdot d\mathbf{r}$ 以获得 $\mathbf{F}(x,y) = \langle -y, x \rangle$。
3. 解释$\int_C 1\,ds$的含义。
4. 对于 $\mathbf{F}(x,y,z) = \langle z,0,x \rangle$，计算沿 $\mathbf{r}(t) = \langle t,t,1 \rangle, 0 \leq t \leq 1$ 的线积分。
5. 解释标量和矢量线积分之间的区别。

## 10.3 曲面积分

曲面积分将线积分推广到三维空间中的二维曲面。它们使我们能够计算通过表面的通量和曲面上标量场的累积。

### 标量曲面积分

如果表面 $S$ 参数化为

$$
\mathbf{r}(u,v) = \langle x(u,v), y(u,v), z(u,v) \rangle,
$$

那么标量函数 $f(x,y,z)$ 的表面积分为

$$
\iint_S f(x,y,z)\, dS = \iint_D f(\mathbf{r}(u,v)) \, |\mathbf{r}_u \times \mathbf{r}_v| \, du\,dv,
$$

其中 $\mathbf{r}_u$ 和 $\mathbf{r}_v$ 是 $\mathbf{r}(u,v)$ 的偏导数，$D$ 是参数域。

### 矢量曲面积分（通量）

对于矢量场 $\mathbf{F}(x,y,z)$，通过表面 $S$ 的通量为

$$
\iint_S \mathbf{F}\cdot d\mathbf{S} = \iint_S \mathbf{F}\cdot \mathbf{n}\, dS,
$$

其中 $\mathbf{n}$ 是单位法线向量。使用参数化，

$$
\iint_S \mathbf{F}\cdot d\mathbf{S} = \iint_D \mathbf{F}(\mathbf{r}(u,v)) \cdot (\mathbf{r}_u \times \mathbf{r}_v)\,du\,dv.
$$

### 示例

1. 标量曲面积分
   表面：单位圆盘 $x^2+y^2 \leq 1$ 上方的平面 $z=1$。

$$
\iint_S 1\, dS = \text{area of the disk} = \pi.
$$

2.穿过球体的通量
   令 $\mathbf{F}(x,y,z) = \langle x,y,z \rangle$ 和 $S$ = 半径为 $R$ 的球体。
   法向量是 $\mathbf{n} = \frac{1}{R}\langle x,y,z \rangle$。

$$
\mathbf{F}\cdot \mathbf{n} = \frac{x^2+y^2+z^2}{R} = R.
$$

所以

$$
\iint_S \mathbf{F}\cdot d\mathbf{S} = \iint_S R\, dS = R \cdot 4\pi R^2 = 4\pi R^3.
$$

### 为什么这很重要

- 标量表面积分测量面积和表面分布。
- 矢量表面积分测量通量：穿过表面的场量。
- 应用：电磁、流体流动、传热等。

### 练习

1. 计算边长为 2 的立方体的表面积 $\iint_S 1\, dS$。
2. 求 $\mathbf{F}(x,y,z) = \langle x,y,z \rangle$ 通过单位球体的通量。
3. 计算抛物面 $z = x^2+y^2, \, z \leq 1$ 的 $\iint_S z\, dS$。
4. 对于 $\mathbf{F}(x,y,z) = \langle y,0,0 \rangle$，计算通过平面 $x=1$、$0 \leq y,z \leq 1$ 的通量。
5. 从物理上解释如果通过闭合表面的矢量场的通量为零意味着什么。

## 10.4 格林定理

格林定理是矢量微积分中的一个基本结果，它将闭合曲线周围的线积分与其所包围的区域上的二重积分连接起来。它是斯托克斯定理的二维版本。

### 格林定理的陈述

令 $C$ 为平面中一条正向、简单、闭合的曲线，并令 $R$ 为其包围的区域。如果 $\mathbf{F}(x,y) = \langle P(x,y), Q(x,y) \rangle$ 在包含 $R$ 的开域上具有连续偏导数，则

$$
\oint_C \mathbf{F} \cdot d\mathbf{r} = \oint_C P\,dx + Q\,dy = \iint_R \left( \frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} \right)\, dA.
$$

### 解释

- $C$ 周围的线积分测量矢量场沿边界的循环。
- $R$ 上的二重积分测量区域内场的总旋度（旋转）。### 示例 1：面积公式

如果 $\mathbf{F} = \langle -y/2, x/2 \rangle$，那么

$$
\frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} = 1.
$$

因此，格林定理给出

$$
\text{Area}(R) = \iint_R 1\,dA = \oint_C \left(-\tfrac{y}{2}\,dx + \tfrac{x}{2}\,dy\right).
$$

这提供了一种使用线积分计算面积的方法。

### 示例 2：循环

设 $\mathbf{F}(x,y) = \langle -y, x \rangle$ 和 $C$ 为单位圆。

- $P=-y, Q=x$。
- $Q_x - P_y = 1 - (-1) = 2$。
- 单位圆盘上的二重积分：

$$
\iint_R 2\,dA = 2\pi (1^2) = 2\pi.
$$

所以绕圆的循环是$2\pi$。

### 为什么这很重要

- 将困难的线积分转换为二重积分，反之亦然。
- 提供局部属性（卷曲）和全局属性（循环）之间的桥梁。
- 广泛应用于物理学中的流体流动、电磁学和平面矢量场。

### 练习

1. 使用格林定理计算椭圆$\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1$内的面积。
2. 沿顶点 (0,0)、(1,0)、(1,1)、(0,1) 的正方形验证 $\mathbf{F}(x,y) = \langle -y, x \rangle$ 的格林定理。
3. 计算$\mathbf{F}(x,y) = \langle -y, x \rangle$ 绕单位圆的循环。
4. 证明如果 $\nabla \times \mathbf{F} = 0$，则 $\mathbf{F}$ 围绕任意闭合曲线的线积分为零。
5. 用格林定理证明

$$
\oint_C x\,dy = -\oint_C y\,dx
$$

对于任何闭合曲线 $C$。

## 10.5 斯托克斯定理

斯托克斯定理将格林定理推广到三个维度。它将表面上矢量场旋度的表面积分与围绕该表面边界的矢量场的线积分相关联。

### 斯托克斯定理的陈述

令 $S$ 为具有边界曲线 $C$ （正向）的定向光滑表面。如果 $\mathbf{F}(x,y,z)$ 是具有连续偏导数的向量场，则

$$
\iint_S (\nabla \times \mathbf{F}) \cdot d\mathbf{S} = \oint_C \mathbf{F} \cdot d\mathbf{r}.
$$

- 左侧：$\mathbf{F}$ 卷曲穿过表面的通量。
- 右侧：$\mathbf{F}$ 沿边界曲线的循环。

### 解释

- 边界周围的线积分等于表面内的总“旋转”。
- 扩展了格林定理（当表面位于平面上时的特殊情况）。

### 示例 1：格林定理的特例

如果 $S$ 是 $xy$ 平面上的平坦区域，则斯托克斯定理可简化为格林定理。

### 示例 2：半球上的循环

令 $\mathbf{F}(x,y,z) = \langle -y, x, 0 \rangle$ 和 $S$ 为半径为 1 的上半球。

- 边界 $C$：$xy$ 平面中的单位圆。
- 根据斯托克斯定理：

$$
\oint_C \mathbf{F}\cdot d\mathbf{r} = \iint_S (\nabla \times \mathbf{F})\cdot d\mathbf{S}.
$$

- 卷曲：$\nabla \times \mathbf{F} = \langle 0,0,2 \rangle$。
- 半球法线指向外侧：$\mathbf{n} = \langle 0,0,1 \rangle$。
- 所以被积函数 = 2。
- 半球面积 = $2\pi (1^2)$。

$$
\iint_S 2\, dS = 2 \cdot 2\pi = 4\pi.
$$

因此，绕赤道的环流为$4\pi$。

### 为什么这很重要

- 提供面积分和线积分之间的深层联系。
- 通过选择方便的表面来简化计算。
- 广泛应用于电磁学（法拉第定律）和流体动力学。

### 练习

1. 在 $xy$ 平面上的单位圆盘上验证 $\mathbf{F}(x,y,z) = \langle y, -x, 0 \rangle$ 的斯托克斯定理。
2. 计算 $\oint_C \mathbf{F}\cdot d\mathbf{r}$，其中 $\mathbf{F}(x,y,z) = \langle z, 0, x \rangle$ 和 $C$ 是顶点为 (0,0,0)、(1,0,0)、(0,1,0) 的三角形的边界。
3. 证明如果$\nabla \times \mathbf{F} = 0$，则任何闭合曲线周围的循环为零。
4. 应用斯托克斯定理计算 $\mathbf{F}(x,y,z) = \langle -y, x, z \rangle$ 围绕平面 $z=0$ 中单位正方形边界的循环。
5. 解释斯托克斯定理如何推广格林定理。

## 10.6 散度定理发散定理（也称为高斯定理）将通过闭合表面的矢量场的通量与表面内部场的发散的三重积分联系起来。

### 散度定理的陈述

令 $E$ 为 $\mathbb{R}^3$ 中的实体区域，其边界表面为 $S$（向外）。如果 $\mathbf{F}(x,y,z)$ 是在 $E$ 上具有连续偏导数的向量场，则

$$
\iint_S \mathbf{F} \cdot d\mathbf{S} = \iiint_E (\nabla \cdot \mathbf{F}) \, dV.
$$

- 左侧：$\mathbf{F}$ 穿过闭合表面 $S$ 的通量。
- 右侧：区域内散度的三重积分。

### 分歧

矢量场 $\mathbf{F}(x,y,z) = \langle P, Q, R \rangle$ 的散度为

$$
\nabla \cdot \mathbf{F} = \frac{\partial P}{\partial x} + \frac{\partial Q}{\partial y} + \frac{\partial R}{\partial z}.
$$

它测量每个点每单位体积的“净流出”。

### 示例 1：径向场的通量

令$\mathbf{F}(x,y,z) = \langle x, y, z \rangle$，并令$E$ 为单位球$x^2+y^2+z^2 \leq 1$。

- 分歧：$\nabla \cdot \mathbf{F} = 1+1+1 = 3$。
- 单位球体积：$\tfrac{4}{3}\pi$。
  所以

$$
\iiint_E (\nabla \cdot \mathbf{F})\, dV = 3 \cdot \tfrac{4}{3}\pi = 4\pi.
$$

因此，穿过单位球体的通量为 $4\pi$。

### 示例 2：常量字段

让$\mathbf{F}(x,y,z) = \langle 1, 0, 0 \rangle$。

- 分歧：$\nabla \cdot \mathbf{F} = 0$。
- 因此通过任何闭合表面的通量为零，与直觉一致（无净流出）。

### 为什么这很重要

- 将表面积分转换为更简单的体积积分。
- 用于物理学：电磁学、流体流动和传热中的高斯定律。
- 完成统一框架：

  - 格林定理（2D 旋度 ↔ 循环）
  - 斯托克斯定理（3D 卷曲 ↔ 表面循环）
  - 散度定理（3D 散度 ↔ 闭合表面上的通量）

### 练习

1. 使用散度定理计算 $\mathbf{F}(x,y,z) = \langle x,y,z \rangle$ 穿过半径为 $R$ 的球体表面的通量。
2. 验证单位立方体 $[0,1]^3$ 上 $\mathbf{F}(x,y,z) = \langle y, z, x \rangle$ 的散度定理。
3. 证明如果 $\nabla \cdot \mathbf{F} = 0$，则通过任何闭合表面的总通量为零。
4. 计算 $\mathbf{F}(x,y,z) = \langle x^2, y^2, z^2 \rangle$ 通过单位球体的通量。
5. 解释散度定理如何推广一维微积分基本定理。

# 第四部分。无限进程

# 第 11 章. 序列和收敛

## 11.1 定义和示例

序列是数字的有序列表，通常写为

$$
a_1, a_2, a_3, \dots
$$

或者更一般地说 $(a_n)_{n=1}^\infty$。每个 $a_n$ 称为序列的第 n 项。

### 定义序列

序列可以通过两种方式定义：

1. 显式公式——给出第n项的直接规则。

   - 示例：$a_n = \frac{1}{n}$ 定义序列

     $$
     1, \tfrac{1}{2}, \tfrac{1}{3}, \tfrac{1}{4}, \dots
     $$

2. 递归定义 – 使用较早的术语定义术语。

   - 示例：斐波那契数列：

     $$
     a_1 = 1, \quad a_2 = 1, \quad a_{n} = a_{n-1} + a_{n-2} \quad (n \geq 3).
     $$

### 序列示例

1. 算术序列：

   $$
   a_n = a_1 + (n-1)d.
   $$

   示例：$a_n = 2n+1$ → 奇数序列。

2. 几何序列：

   $$
   a_n = a_1 r^{n-1}.
   $$

   示例：$a_n = 2^n$ → 2 的幂。

3、谐波序列：

   $$
   a_n = \frac{1}{n}.
   $$

4. 交替顺序：

   $$
   a_n = (-1)^n.
   $$

### 微积分中的序列

序列是无限过程的基础：

- 序列的极限→定义收敛性。
- 系列 → 由序列构建的无限和。
- 通过序列和级数近似的函数。

### 为什么这很重要- 序列为无限级数和近似提供了构建块。
- 它们使我们能够严格定义“趋近无穷大”和收敛。
- 许多重要的函数（指数、三角函数）可以通过序列和级数来表达。

### 练习

1. 写出数列$a_n = \frac{n}{n+1}$ 的前五项。
2. 确定 $a_n = (-1)^n n$ 是否有界。
3. 给出序列$2,4,8,16,\dots$ 的递归定义。
4. 使用 $a_1=3$ 和 $d=5$ 求算术数列的第 10 项。
5. 为 $a_1=1$、$a_{n+1}=2a_n$ 定义的序列编写显式公式。

## 11.2 单调和有界序列

为了理解一个序列是否收敛，我们需要研究它的行为：它是增加、减少、保持在界限内还是无限制地增长？两个重要的概念是单调性和有界性。

### 单调序列

如果序列 $(a_n)$ 始终递增或始终递减，则该序列称为单调。

- 单调递增：

  $$
  a_{n+1} \geq a_n \quad \text{for all } n.
  $$

- 单调递减：

  $$
  a_{n+1} \leq a_n \quad \text{for all } n.
  $$

示例：

1. $a_n = n$ 是单调递增的。
2. $a_n = \frac{1}{n}$ 是单调递减的。

### 有界序列

如果存在一个数 $M$ 使得 $a_n \leq M$ 对于所有 $n$ ，则序列在上面有界。
如果存在 $m$ 使得 $a_n \geq m$ 对于所有 $n$ ，则它的边界如下。

如果两个条件都成立，则序列是有界的。

示例：

1. $a_n = \frac{1}{n}$ 的范围在 0 和 1 之间。
2. $a_n = (-1)^n$ 的范围在 -1 和 1 之间。
3. $a_n = n$ 不受限制。

### 单调收敛定理

基本分析结果：

- 上面有界的每个单调递增序列都收敛。
- 下面有界的每个单调递减序列都收敛。

该定理保证收敛而无需明确找到极限。

### 示例

1. 序列：$a_n = 1 - \frac{1}{n}$。

   - 增加：自 $a_{n+1} - a_n = \frac{1}{n} - \frac{1}{n+1} > 0$ 起。
   - 上界为 1。
   - 因此，它收敛。
   - 限制：$\lim_{n\to\infty} a_n = 1$。

### 为什么这很重要

- 单调性和有界性可以快速测试收敛性。
- 它们对于严格证明和构造极限至关重要。
- 这些想法自然延伸到功能和系列。

### 练习

1. 判断$a_n = \frac{n}{n+1}$是否单调且有界。
2. 证明$a_n = \sqrt{n}$ 是单调递增但无界的。
3.证明$a_n = 2 - \frac{1}{n}$收敛，并求其极限。
4. 给出一个非单调有界序列的例子。
5. 将单调收敛定理应用于$a_n = \ln\!\big(1+\frac{1}{n}\big)$。

## 11.3 序列的极限

关于序列的核心问题是，随着 $n$ 的增长，其项是否接近单个值。这就引出了数列极限的概念。

### 定义

序列 $(a_n)$ 有一个限制 $L$ 如果对于每个 $\varepsilon > 0$ 都存在一个整数 $N$ 使得

$$
|a_n - L| < \varepsilon \quad \text{whenever } n > N.
$$

然后我们写

$$
\lim_{n\to\infty} a_n = L.
$$

如果不存在这样的 $L$，则序列发散。

### 直觉

- 随着 $n$ 变大，序列的项任意接近 $L$。
- 除了某些索引 $N$ 之外，所有术语都保持在 $L$ 周围的一个小范围内。

### 示例

1.$a_n = \frac{1}{n}$。
   随着 $n$ 的增长，项向 0 缩小。

   $$
   \lim_{n\to\infty} \frac{1}{n} = 0.
   $$2.$a_n = (-1)^n$。
   项在 -1 和 1 之间交替，因此不存在单一限制。顺序有所不同。

3.$a_n = \frac{n}{n+1}$。
   由于 $n \to \infty$，分子和分母几乎相等，所以

   $$
   \lim_{n\to\infty} \frac{n}{n+1} = 1.
   $$

### 极限的性质

如果 $\lim a_n = A$ 和 $\lim b_n = B$：

- $\lim (a_n+b_n) = A+B$。
- $\lim (a_n b_n) = AB$。
- $\lim (c a_n) = cA$ 表示常量 $c$。
- 如果 $b_n \neq 0$ 和 $B \neq 0$，则

  $$
  \lim \frac{a_n}{b_n} = \frac{A}{B}.
  $$

### 定理：挤压原理

如果 $a_n \leq b_n \leq c_n$ 对于所有大 $n$，并且

$$
\lim_{n\to\infty} a_n = \lim_{n\to\infty} c_n = L,
$$

然后

$$
\lim_{n\to\infty} b_n = L.
$$

示例：

$$
a_n = -\tfrac{1}{n}, \quad b_n = \tfrac{\sin n}{n}, \quad c_n = \tfrac{1}{n}.
$$

由于 $-\tfrac{1}{n} \leq \tfrac{\sin n}{n} \leq \tfrac{1}{n}$ 和两个边界序列都变为 0，

$$
\lim_{n\to\infty} \frac{\sin n}{n} = 0.
$$

### 为什么这很重要

- 极限使得序列“接近”某个值的想法变得严格。
- 序列的收敛支撑着无限级数和连续性。
- 这些概念对于通过极限定义实数至关重要。

### 练习

1. 找到$\lim_{n\to\infty} \frac{2n+1}{3n+4}$。
2. 判断$a_n = \sqrt{n+1} - \sqrt{n}$是否收敛。
3. $a_n = \cos n$ 收敛吗？为什么或为什么不呢？
4. 利用挤压原理显示$\lim_{n\to\infty} \frac{\sin n}{n} = 0$。
5. 证明如果$\lim a_n = L$，则$\lim |a_n| = |L|$。

# 第12章 无限级数

## 12.1 级数与收敛

级数是序列各项的总和。我们不只是列出数字，而是将它们加在一起并研究无限总和是否接近有限值。

### 定义

给定一个序列$(a_n)$，对应的序列是

$$
\sum_{n=1}^\infty a_n = a_1 + a_2 + a_3 + \dots
$$

我们将第 n 个部分和定义为

$$
S_n = \sum_{k=1}^n a_k.
$$

如果序列 $(S_n)$ 收敛到有限极限 $S$，则级数收敛并且

$$
\sum_{n=1}^\infty a_n = S.
$$

如果 $(S_n)$ 发散，则级数发散。

### 示例

1.几何系列

$$
\sum_{n=0}^\infty ar^n = \frac{a}{1-r}, \quad |r| < 1.
$$

示例：

$$
1 + \tfrac{1}{2} + \tfrac{1}{4} + \tfrac{1}{8} + \dots = 2.
$$

2. 谐波级数

$$
\sum_{n=1}^\infty \frac{1}{n}.
$$

尽管项变为 0，该级数仍存在分歧。

3. P系列

$$
\sum_{n=1}^\infty \frac{1}{n^p}.
$$

- 如果 $p > 1$ 则收敛。
- 如果 $p \leq 1$ 则发散。

### 收敛的必要条件

如果 $\sum a_n$ 收敛，则必然

$$
\lim_{n\to\infty} a_n = 0.
$$

如果 $\lim a_n \neq 0$，则级数发散。
但反之则不然：$\lim a_n = 0$ 不保证收敛（例如调和级数）。

### 为什么这很重要

- 级数将有限加法扩展到无限过程。
- 收敛级数用于逼近函数、计算面积和模拟物理过程。
- 级数的研究带来了强大的收敛性测试。

### 练习

1.判断$\sum_{n=1}^\infty \frac{2}{3^n}$是否收敛，并求其和。
2. 证明$\sum_{n=1}^\infty \frac{1}{n^2}$ 收敛。
3. $\sum_{n=1}^\infty \frac{1}{\sqrt{n}}$ 收敛吗？
4. 写出级数 $\sum_{n=1}^\infty \frac{1}{2^n}$ 的前四个部分和。
5. 解释为什么 $\lim a_n = 0$ 对于收敛是必要的但还不够。

## 12.2 收敛性测试

由于许多级数无法直接求和，数学家开发了测试来确定级数是否收敛或发散。这些测试是分析无限和的工具。

### 1. 第 n 项背离测试

如果

$$
\lim_{n\to\infty} a_n \neq 0 \quad \text{or does not exist},
$$

然后

$$
\sum a_n
$$

发散。

如果 $\lim a_n = 0$，则测试不确定。

### 2. 对比测试

假设所有 $n$ 都是 $0 \leq a_n \leq b_n$。

- 如果 $\sum b_n$ 收敛，则 $\sum a_n$ 也收敛。
- 如果 $\sum a_n$ 发散，则 $\sum b_n$ 也发散。

### 3.极限对比测试

如果 $a_n, b_n > 0$ 和

$$
\lim_{n\to\infty} \frac{a_n}{b_n} = c,
$$

其中 $0 < c < \infty$ ，则 $\sum a_n$ 和 $\sum b_n$ 要么都收敛，要么都发散。

### 4.比率测试

对于 $\sum a_n$，计算

$$
L = \lim_{n\to\infty} \left| \frac{a_{n+1}}{a_n} \right|.
$$- 如果$L < 1$，级数绝对收敛。
- 如果 $L > 1$ 或 $L = \infty$，则系列发散。
- 如果 $L = 1$，则测试不确定。

### 5.根测试

对于 $\sum a_n$，计算

$$
L = \lim_{n\to\infty} \sqrt[n]{|a_n|}.
$$

- 如果$L < 1$，级数绝对收敛。
- 如果 $L > 1$，则系列发散。
- 如果 $L = 1$，则测试不确定。

### 6.交替系列测试（莱布尼茨测试）

对于表格系列

$$
\sum (-1)^n b_n \quad \text{or} \quad \sum (-1)^{n+1} b_n,
$$

如果

1. $b_{n+1} \leq b_n$（递减），以及
2.$\lim_{n\to\infty} b_n = 0$，

那么级数收敛。

### 示例

1. $\sum \frac{1}{n^2}$：比较测试→收敛。
2. $\sum \frac{1}{n}$：调和级数 → 发散。
3. $\sum \frac{(-1)^n}{n}$：交替串联测试→收敛。
4. $\sum \frac{n!}{n^n}$：比率测试 → 收敛。
5. $\sum \frac{2^n}{n}$：根测试 → 发散。

### 为什么这很重要

- 收敛测试让我们可以对序列进行分类，而无需明确的求和。
- 它们提供了处理微积分中无限过程的系统方法。
- 它们对于幂级数和傅立叶级数等后续主题至关重要。

### 练习

1. 测试$\sum \frac{1}{n^3}$的收敛性。
2. 对$\sum \frac{3^n}{n!}$ 使用比率测试。
3. 对 $\sum \left(\frac{1}{2}\right)^n$ 应用根测试。
4. 确定$\sum \frac{(-1)^n}{\sqrt{n}}$ 的收敛性。
5. 使用$\frac{1}{n^2}$的极限比较测试来测试$\sum \frac{1}{n^2+1}$。

## 12.3 绝对收敛与条件收敛

当符号交替时，并非所有系列的行为都相同。为了解决这个问题，我们区分绝对收敛和条件收敛。

### 绝对收敛

级数 $\sum a_n$ 绝对收敛，如果

$$
\sum |a_n|
$$

收敛。

定理：如果级数绝对收敛，那么它也收敛。

示例：

$$
\sum \frac{(-1)^n}{n^2}.
$$

这里 $\sum \left|\frac{(-1)^n}{n^2}\right| = \sum \frac{1}{n^2}$ 收敛（p 级数，$p=2$）。
所以级数绝对收敛。

### 条件收敛

如果级数 $\sum a_n$ 收敛，则它是条件收敛的，但不是绝对收敛的。

示例：

$$
\sum \frac{(-1)^n}{n}.
$$

- 交替串联测试→收敛。
- 但是 $\sum \left|\frac{(-1)^n}{n}\right| = \sum \frac{1}{n}$ 发散（调和级数）。
  所以级数是条件收敛的。

### 重排定理

对于条件收敛级数，重新排列项可以改变总和 - 甚至使其发散或收敛到不同的值。

这个令人惊讶的结果显示了条件收敛的微妙本质。

### 为什么这很重要

- 绝对收敛性更强，保证稳定性。
- 条件收敛强调了无限和中顺序的重要性。
- 实践中遇到的许多交替级数只是有条件收敛的。

### 练习

1. 证明 $\sum \frac{(-1)^n}{n^3}$ 绝对收敛。
2. 证明$\sum \frac{(-1)^n}{n}$ 是条件收敛的。
3. 测试 $\sum \frac{(-1)^n}{\sqrt{n}}$ 的绝对收敛和条件收敛。
4.解释为什么绝对收敛意味着收敛，但反之则不然。
5. 用自己的话研究并总结黎曼重排定理。

# 第 13 章。幂级数和展开式

## 13.1 幂级数

幂级数是无限级数，其中每一项都涉及变量的幂。幂级数是微积分的核心，因为它们让我们将函数表示为无限多项式。

### 通用表格

以 $a$ 为中心的幂级数具有以下形式

$$
\sum_{n=0}^\infty c_n (x-a)^n,
$$

其中 $c_n$ 是称为系数的常数。

- 如果 $a=0$，则系列以原点为中心：

  $$
  \sum_{n=0}^\infty c_n x^n.
  $$### 示例

1.几何系列

$$
\sum_{n=0}^\infty x^n = \frac{1}{1-x}, \quad |x|<1.
$$

2. 指数函数

$$
e^x = \sum_{n=0}^\infty \frac{x^n}{n!}.
$$

3. 正弦和余弦

$$
\sin x = \sum_{n=0}^\infty (-1)^n \frac{x^{2n+1}}{(2n+1)!}, \quad  
\cos x = \sum_{n=0}^\infty (-1)^n \frac{x^{2n}}{(2n)!}.
$$

### 收敛区间

对于每个幂级数，都存在收敛半径 $R$ ，使得：

- 如果 $|x-a| < R$，级数收敛。
- 如果 $|x-a| > R$，则该系列出现分歧。
- 在 $|x-a| = R$ 处，必须单独检查收敛性。

### 为什么这很重要

- 幂级数允许我们通过多项式来近似函数。
- 他们将微积分与分析和微分方程联系起来。
- 数学和物理中的许多特殊函数都是由它们的幂级数定义的。

### 练习

1. 写出 $\sum_{n=0}^\infty \frac{(x-2)^n}{n!}$ 的幂级数。
2. 求 $e^x$ 的幂级数的前四项。
3. 将$\frac{1}{1+x}$表示为以0为中心的幂级数。
4. 判断级数$\sum_{n=0}^\infty n! x^n$是否收敛于$x=0.1$。
5. 解释为什么幂级数有时被称为“无穷多项式”。

## 13.2 收敛半径

每个幂级数对于 $x$ 的某些值收敛，而对于其他值则发散。这两种行为之间的边界由收敛半径描述。

### 定义

对于功率系列

$$
\sum_{n=0}^\infty c_n (x-a)^n,
$$

存在一个数字 $R \geq 0$ （可能是无限的）使得：

- 如果$|x-a| < R$，级数绝对收敛。
- 如果 $|x-a| > R$，则该系列出现分歧。
- 在 $|x-a| = R$ 处，必须单独检查收敛性。

这个数字 $R$ 称为收敛半径。

### 求收敛半径

两种常用方法：

1. 比率测试

$$
R = \lim_{n\to\infty} \left| \frac{c_n}{c_{n+1}} \right|.
$$

2. 根测试

$$
R = \frac{1}{\limsup_{n\to\infty} \sqrt[n]{|c_n|}}.
$$

### 示例

1.系列：

$$
\sum_{n=0}^\infty \frac{x^n}{n!}.
$$

使用比率测试：

$$
\lim_{n\to\infty} \frac{1/(n!)}{1/((n+1)!)} = \infty.
$$

所以 $R = \infty$ （收敛于所有实数 $x$）。

2.系列：

$$
\sum_{n=0}^\infty x^n.
$$

这里$c_n = 1$。

$$
R = 1.
$$

收敛于 $|x| < 1$。

3.系列：

$$
\sum_{n=1}^\infty \frac{x^n}{n}.
$$

比率测试：

$$
\lim_{n\to\infty} \left|\frac{(x^{n+1}/(n+1))}{(x^n/n)}\right| = |x|.
$$

所以$R = 1$。 $|x| < 1$ 收敛，$|x| > 1$ 发散。在 $x=\pm 1$ 处，单独测试。

### 收敛区间

级数收敛的 $x$ 值集合称为收敛区间。

- 始终以 $a$ 为中心。
- 在两个方向上延伸 $R$ 单位。
- 端点 $x=a\pm R$ 必须单独检查。

### 为什么这很重要

- 收敛半径告诉我们幂级数在哪里表现得像函数。
- 对于在实践中使用泰勒级数展开至关重要。
- 确定物理和工程中级数解的有效性范围。

### 练习

1. 求 $\sum_{n=0}^\infty \frac{(x-3)^n}{n!}$ 的收敛半径。
2. 计算$\sum_{n=1}^\infty \frac{x^n}{n^2}$ 的收敛半径。
3. 使用比率测试查找 $R$ 与 $\sum_{n=0}^\infty n!x^n$。
4. 确定$\sum_{n=1}^\infty \frac{(x+1)^n}{n}$ 的收敛区间。
5. 解释为什么指数级数对所有 $x$ 收敛，而几何级数仅对 $|x|<1$ 收敛。

## 13.3 泰勒和麦克劳林级数

当幂级数用于表示熟悉的函数时，它们变得特别强大。这是通过泰勒级数完成的，以 0 为中心的特殊情况称为麦克劳林级数。

### 泰勒级数

如果函数 $f(x)$ 在 $x=a$ 处无限可微，则其关于 $a$ 的泰勒级数为

$$
f(x) = \sum_{n=0}^\infty \frac{f^{(n)}(a)}{n!}(x-a)^n.
$$

这里 $f^{(n)}(a)$ 表示 $f$ 在 $a$ 处的 $n$ 导数。

### 麦克劳林级数以 $a=0$ 为中心的泰勒级数：

$$
f(x) = \sum_{n=0}^\infty \frac{f^{(n)}(0)}{n!} x^n.
$$

### 示例

1. 指数函数

$$
e^x = 1 + x + \frac{x^2}{2!} + \frac{x^3}{3!} + \cdots
$$

2. 正弦和余弦

$$
\sin x = x - \frac{x^3}{3!} + \frac{x^5}{5!} - \cdots
$$

$$
\cos x = 1 - \frac{x^2}{2!} + \frac{x^4}{4!} - \cdots
$$

3.自然对数（对于$|x|<1$）

$$
\ln(1+x) = x - \frac{x^2}{2} + \frac{x^3}{3} - \frac{x^4}{4} + \cdots
$$

### 泰勒多项式逼近

前 $n$ 项的有限和是 $n$ 次泰勒多项式：

$$
P_n(x) = \sum_{k=0}^n \frac{f^{(k)}(a)}{k!}(x-a)^k.
$$

该多项式在 $x=a$ 附近近似 $f(x)$。

### 余数（错误项）

该函数与其泰勒多项式之间的差是余数：

$$
R_n(x) = f(x) - P_n(x).
$$

一种形式（拉格朗日形式）是

$$
R_n(x) = \frac{f^{(n+1)}(c)}{(n+1)!}(x-a)^{n+1},
$$

对于 $a$ 和 $x$ 之间的一些 $c$。

### 为什么这很重要

- 泰勒级数为复杂函数提供多项式近似。
- 它们在数值分析、物理和工程中至关重要。
- 麦克劳林级数展开给出了指数函数、三角函数和对数函数的简单公式。

### 练习

1. 找到 $f(x)=\cosh x = \tfrac{e^x+e^{-x}}{2}$ 的麦克劳林级数。
2. 写出以 $a=2$ 为中心的 $f(x)=e^x$ 的泰勒级数。
3. 计算 $f(x)=\ln(1+x)$ 在 $a=0$ 处的 3 次泰勒多项式。
4. 使用 $\sin x$ 的麦克劳林级数来近似 $\sin(0.1)$。
5. 解释为什么泰勒级数通常提供良好的局部近似值，但对于较大的 $|x|$ 可能会发散。

## 13.4 泰勒级数的应用

泰勒级数不仅是理论工具 - 它们还用于逼近函数、求解方程和分析物理系统。它们的应用涵盖数学、科学和工程。

### 函数逼近

复杂的函数可以通过点附近的多项式来近似。

示例：使用 3 次麦克劳林多项式在 $x=0$ 附近近似 $e^x$：

$$
P_3(x) = 1 + x + \tfrac{x^2}{2} + \tfrac{x^3}{6}.
$$

对于小 $x$，这给出了 $e^x$ 的准确估计。

### 数值方法

泰勒级数为数值算法提供了基础：

- 近似平方根、对数和三角值。
- 通过余项估计误差。
- 用于迭代方法，如牛顿法（局部线性化来自泰勒级数）。

### 求解微分方程

许多微分方程的解都表示为泰勒（或幂）级数。

示例： $y'' + y = 0$ 与 $y(0)=0, y'(0)=1$ 的解是 $\sin x$，它自然地从其麦克劳林级数中产生。

### 物理与工程

- 小角度近似：

  $$
  \sin x \approx x, \quad \cos x \approx 1 - \tfrac{x^2}{2}, \quad |x| \ll 1.
  $$

  用于摆运动、光学和波动力学。

- 相对论和量子力学：泰勒展开式简化了非线性表达式以供实际使用。

- 近似能量函数：在力学中，势能函数在平衡点附近展开。

### 概率与统计

- 矩生成函数和特征函数使用幂级数。
- 概率分布的近似（例如，二项式的正态近似）使用泰勒展开式。

### 为什么这很重要

- 泰勒级数提供了精确公式和实际计算之间的桥梁。
- 它们使我们能够将复杂的问题简化为可管理的多项式近似值。
- 应用程序使它们成为应用数学中最重要的工具之一。

### 练习1. 使用 $e^x$ 的麦克劳林级数对 $e^{0.1}$ 进行近似，精确到小数点后四位。
2. 应用小角度近似来估计 $\sin(5^\circ)$。
3. 使用幂级数方法求解微分方程 $y'' = -y$。
4. 将 $\ln(1+x)$ 扩展到 4 度，并用它来近似 $\ln(1.1)$。
5. 解释为什么多项式近似对于计算机和计算器特别有用。

# 附录

## 附录 A. 微积分基础知识

### A.1 代数复习

在深入研究微积分之前，回顾一些会反复出现的代数技能会有所帮助。这些是您操作表达式、求解方程和简化结果所需的“工具”。

#### 指数和幂

- 基本规则：

  $$
  a^m \cdot a^n = a^{m+n}, \quad \frac{a^m}{a^n} = a^{m-n}, \quad (a^m)^n = a^{mn}.
  $$
- 负指数：

  $$
  a^{-n} = \frac{1}{a^n}, \quad a \neq 0.
  $$
- 小数指数：

  $$
  a^{1/n} = \sqrt[n]{a}, \quad a^{m/n} = \sqrt[n]{a^m}.
  $$

#### 保理

因式分解可简化表达式并有助于求解方程。

1、公因数：

   $$
   6x^2+9x = 3x(2x+3).
   $$

2. 平方差：

   $$
   a^2-b^2 = (a-b)(a+b).
   $$

3.二次三项式：

   $$
   x^2+5x+6 = (x+2)(x+3).
   $$

#### 多项式

- 标准形式：$P(x) = a_nx^n + a_{n-1}x^{n-1} + \cdots + a_0$。
- 度数：$x$ 的最大幂。
- 长除法和综合除法对于简化有理函数很有用。

#### 有理式

通过分解分子和分母来简化：

$$
\frac{x^2-1}{x^2-2x+1} = \frac{(x-1)(x+1)}{(x-1)^2} = \frac{x+1}{x-1}, \quad x \neq 1.
$$

#### 对数

- 定义：$\log_a b = c$ 表示 $a^c = b$。
- 常用底数：自然对数 ($\ln x = \log_e x$) 和底数 10 ($\log x$)。
- 规则：

  $$
  \log(ab) = \log a + \log b, \quad \log\left(\frac{a}{b}\right) = \log a - \log b, \quad \log(a^n) = n\log a.
  $$

#### 方程

- 线性：求解 $ax+b=0$ → $x=-b/a$。
- 二次：$ax^2+bx+c=0$ 有解

  $$
  x=\frac{-b\pm \sqrt{b^2-4ac}}{2a}.
  $$
- 指数：$e^x = k$ → $x = \ln k$。

### A.2 三角学基础知识

三角学提供了角度和周期现象的语言。由于微积分通常涉及振荡、运动和波动，因此牢固掌握三角函数及其性质至关重要。

#### 单位圆

- 定义为以坐标平面中的原点为中心、半径为 1 的圆。
- 对于从正 $x$ 轴测量的角度 $\theta$：

  $$
  (\cos \theta, \sin \theta)
  $$

  给出圆上点的坐标.

特殊值：

| $\theta$ | $\sin \theta$ | $\cos \theta$ | $\tan \theta = \frac{\sin \theta}{\cos \theta}$ |
| --| - | - | --|
| $0$ | 0 | 1 | 0 |
| $\pi/6$ | 1/2 | 1/2 $\sqrt{3}/2$ | $1/\sqrt{3}$ |
| $\pi/4$ | $\sqrt{2}/2$ | $\sqrt{2}/2$ | 1 |
| $\pi/3$ | $\sqrt{3}/2$ | 1/2 | 1/2 $\sqrt{3}$ |
| $\pi/2$ | 1 | 0 |未定义 |

#### 基本恒等式

1. 毕达哥拉斯恒等式

$$
\sin^2\theta + \cos^2\theta = 1.
$$

2. 商恒等式

$$
\tan\theta = \frac{\sin\theta}{\cos\theta}, \quad \cot\theta = \frac{\cos\theta}{\sin\theta}.
$$

3. 相互身份

$$
\sec\theta = \frac{1}{\cos\theta}, \quad \csc\theta = \frac{1}{\sin\theta}.
$$

#### 角度加法公式

$$
\sin(\alpha+\beta) = \sin\alpha\cos\beta + \cos\alpha\sin\beta,
$$

$$
\cos(\alpha+\beta) = \cos\alpha\cos\beta - \sin\alpha\sin\beta.
$$

特殊情况：

- 双角度：

  $$
  \sin(2\theta) = 2\sin\theta\cos\theta, \quad
  \cos(2\theta) = \cos^2\theta - \sin^2\theta.
  $$

#### 图表

- $\sin x$：波从 0 开始，振幅 1，周期 $2\pi$。
- $\cos x$：从 1 开始的波，振幅 1，周期 $2\pi$。
- $\tan x$：每个 $\pi$ 重复一次，在 $\pi/2$ 的奇数倍处未定义。

### A.3 坐标几何坐标几何通过使用方程描述几何对象（直线、圆、曲线），将代数和几何联系起来。微积分在很大程度上依赖于这个框架来绘制函数图、查找斜率和分析曲线。

#### 笛卡尔平面

- 点由坐标 $(x,y)$ 表示。
- 两点 $(x_1,y_1)$ 和 $(x_2,y_2)$ 之间的距离：

  $$
  d = \sqrt{(x_2-x_1)^2 + (y_2-y_1)^2}.
  $$
- 线段的中点：

  $$
  M = \left(\frac{x_1+x_2}{2}, \frac{y_1+y_2}{2}\right).
  $$

#### 线路

1. 斜率公式

   $$
   m = \frac{y_2-y_1}{x_2-x_1}.
   $$

2. 直线方程

   - 点-斜率形式：

     $$
     y-y_1 = m(x-x_1).
     $$
   - 斜截距形式：

     $$
     y = mx+b.
     $$

3. 平行线和垂直线

   - 平行线：相同的斜率。
   - 垂直线：斜率满足$m_1m_2 = -1$。

#### 圆圈

圆心 $(h,k)$ 和半径 $r$ 的圆方程：

$$
(x-h)^2+(y-k)^2 = r^2.
$$

特殊情况：以原点为中心的单位圆：

$$
x^2+y^2=1.
$$

#### 圆锥曲线

1.抛物线：

   - 标准形式（上/下开口）：

     $$
     y = ax^2+bx+c.
     $$

2. 椭圆（以原点为中心）：

   $$
   \frac{x^2}{a^2}+\frac{y^2}{b^2}=1.
   $$

3. 双曲线（以原点为中心）：

   $$
   \frac{x^2}{a^2}-\frac{y^2}{b^2}=1.
   $$

## 附录 B. 关键公式和表格

### B.1 导数表

导数衡量函数的变化率和斜率。拥有快速参考表可以帮助学习者避免每次都重新推导公式。

#### 基本规则

1. 不变的规则

$$
\frac{d}{dx}[c] = 0
$$

2. 权力法则

$$
\frac{d}{dx}[x^n] = nx^{n-1}, \quad (n \in \mathbb{R})
$$

3. 常数倍规则

$$
\frac{d}{dx}[c f(x)] = c f'(x)
$$

4. 和差法则

$$
\frac{d}{dx}[f(x)\pm g(x)] = f'(x)\pm g'(x)
$$

#### 三角函数

$$
\frac{d}{dx}[\sin x] = \cos x
$$

$$
\frac{d}{dx}[\cos x] = -\sin x
$$

$$
\frac{d}{dx}[\tan x] = \sec^2 x, \quad x \neq \tfrac{\pi}{2}+k\pi
$$

$$
\frac{d}{dx}[\cot x] = -\csc^2 x
$$

$$
\frac{d}{dx}[\sec x] = \sec x \tan x
$$

$$
\frac{d}{dx}[\csc x] = -\csc x \cot x
$$

#### 指数和对数函数

$$
\frac{d}{dx}[e^x] = e^x
$$

$$
\frac{d}{dx}[a^x] = a^x \ln a, \quad a>0, a\neq 1
$$

$$
\frac{d}{dx}[\ln x] = \frac{1}{x}, \quad x>0
$$

$$
\frac{d}{dx}[\log_a x] = \frac{1}{x\ln a}, \quad a>0, a\neq 1
$$

#### 反三角函数

$$
\frac{d}{dx}[\arcsin x] = \frac{1}{\sqrt{1-x^2}}, \quad |x|<1
$$

$$
\frac{d}{dx}[\arccos x] = -\frac{1}{\sqrt{1-x^2}}, \quad |x|<1
$$

$$
\frac{d}{dx}[\arctan x] = \frac{1}{1+x^2}, \quad x \in \mathbb{R}
$$

#### 乘积、商和链式法则

1. 产品规则

$$
\frac{d}{dx}[f(x)g(x)] = f'(x)g(x)+f(x)g'(x)
$$

2. 商规则

$$
\frac{d}{dx}\left[\frac{f(x)}{g(x)}\right] = \frac{f'(x)g(x)-f(x)g'(x)}{[g(x)]^2}, \quad g(x)\neq 0
$$

3.链式法则

$$
\frac{d}{dx}[f(g(x))] = f'(g(x))\cdot g'(x)
$$

### B.3 通用级数展开

幂级数让我们可以将函数表示为无限多项式。这些展开式对于近似、求解微分方程以及建立关于微积分函数的直觉至关重要。

#### 几何系列

$$
\frac{1}{1-x} = \sum_{n=0}^\infty x^n, \quad |x| < 1
$$

#### 指数函数

$$
e^x = \sum_{n=0}^\infty \frac{x^n}{n!}
= 1 + x + \frac{x^2}{2!} + \frac{x^3}{3!} + \cdots
$$

适用于所有 $x$。

#### 三角函数

$$
\sin x = \sum_{n=0}^\infty (-1)^n \frac{x^{2n+1}}{(2n+1)!}
= x - \frac{x^3}{3!} + \frac{x^5}{5!} - \cdots
$$

$$
\cos x = \sum_{n=0}^\infty (-1)^n \frac{x^{2n}}{(2n)!}
= 1 - \frac{x^2}{2!} + \frac{x^4}{4!} - \cdots
$$

$$
\tan^{-1} x = \sum_{n=0}^\infty (-1)^n \frac{x^{2n+1}}{2n+1}, \quad |x|\leq 1
$$

#### 对数

$$
\ln(1+x) = \sum_{n=1}^\infty (-1)^{n+1} \frac{x^n}{n}, \quad -1 < x \leq 1
$$

#### 二项展开式（广义）

$$
(1+x)^r = \sum_{n=0}^\infty \binom{r}{n} x^n, \quad |x|<1
$$

哪里

$$
\binom{r}{n} = \frac{r(r-1)(r-2)\cdots(r-n+1)}{n!}.
$$

## 附录 C. 校样草图

### C.1 极限定律和 $\varepsilon$–$\delta$ 定义

微积分依赖于极限的精确含义。虽然直觉（“价值观越来越接近”）很有帮助，但正式的定义可以确保严谨性并避免悖论。

#### 直观的想法

我们写

$$
\lim_{x \to a} f(x) = L
$$

这意味着当 $x$ 任意接近 $a$ 时，$f(x)$ 的值也任意接近 $L$。

#### 正式 ($\varepsilon$–$\delta$) 定义

我们这么说

$$
\lim_{x \to a} f(x) = L
$$

如果对于每个 $\varepsilon > 0$，都存在一个 $\delta > 0$ 使得每当

$$
0 < |x-a| < \delta,
$$

我们有

$$
|f(x) - L| < \varepsilon.
$$

- $\varepsilon$：我们希望 $f(x)$ 与 $L$ 有多接近。
- $\delta$：$x$ 必须与 $a$ 有多接近才能实现这一点。

#### 示例

表明

$$
\lim_{x \to 2} (3x+1) = 7.
$$

- 让$\varepsilon > 0$。
- 我们想要 $|(3x+1)-7| < \varepsilon$。
- 简化：$|3x-6| = 3|x-2| < \varepsilon$。
- 如果我们选择 $\delta = \varepsilon/3$，则这一点成立。

因此，根据定义，极限为 7。

#### 限制法则

如果 $\lim_{x \to a} f(x) = L$ 和 $\lim_{x \to a} g(x) = M$，则：

1. 和/差

$$
\lim_{x \to a} [f(x) \pm g(x)] = L \pm M
$$2. 常数倍数

$$
\lim_{x \to a} [c f(x)] = cL
$$

3. 产品

$$
\lim_{x \to a} [f(x)g(x)] = LM
$$

4.商（如果$M \neq 0$）

$$
\lim_{x \to a} \frac{f(x)}{g(x)} = \frac{L}{M}
$$

5. 权力和根源

$$
\lim_{x \to a} [f(x)]^n = L^n, \quad \lim_{x \to a} \sqrt[n]{f(x)} = \sqrt[n]{L} \ (\text{if defined}).
$$

### C.2 证明草图：微积分基本定理

微积分基本定理 (FTC) 将微积分的两个核心运算联系起来：微分和积分。它表明它们实际上是逆过程。

#### 定理的陈述

第一部分（积分的微分）：
如果 $f$ 在 $[a,b]$ 上连续并且我们定义

$$
F(x) = \int_a^x f(t)\,dt,
$$

那么 $F$ 在 $(a,b)$ 上可微，并且

$$
F'(x) = f(x).
$$

第二部分（定积分的计算）：
如果 $F$ 是 $[a,b]$ 上 $f$ 的任何反导数，则

$$
\int_a^b f(x)\,dx = F(b)-F(a).
$$

#### 第一部分的证明草图

1.从导数的定义开始：

   $$
   F'(x) = \lim_{h\to 0} \frac{F(x+h)-F(x)}{h}.
   $$

2. 替换$F(x) = \int_a^x f(t)\,dt$：

   $$
   F(x+h)-F(x) = \int_a^{x+h} f(t)\,dt - \int_a^x f(t)\,dt.
   $$

3. 由积分的可加性：

   $$
   F(x+h)-F(x) = \int_x^{x+h} f(t)\,dt.
   $$

4. 因此：

   $$
   \frac{F(x+h)-F(x)}{h} = \frac{1}{h}\int_x^{x+h} f(t)\,dt.
   $$

5. 根据积分中值定理，存在 $c \in [x,x+h]$ 使得

   $$
   \frac{1}{h}\int_x^{x+h} f(t)\,dt = f(c).
   $$

6. 由于 $h \to 0$、$c \to x$，并且由于 $f$ 是连续的：

   $$
   \lim_{h\to 0} f(c) = f(x).
   $$

因此，$F'(x) = f(x)$。

#### 第二部分的证明草图

1. 令 $F$ 为 $f$ 的反导数，因此 $F'(x) = f(x)$。

2. 根据第一部分，函数

   $$
   G(x) = \int_a^x f(t)\,dt
   $$

   也是 $f$ 的反导数。

3. 由于 $F$ 和 $G$ 仅相差一个常数，

   $$
   F(x) = G(x) + C.
   $$

4. 端点评估：

   $$
   \int_a^b f(x)\,dx = G(b)-G(a) = (F(b)+C)-(F(a)+C) = F(b)-F(a).
   $$

### C.3 证明草图：几何级数的收敛性

几何级数是最简单也是最重要的无穷级数之一。它是理解收敛性的模型，也是后来许多微积分结果的基础。

#### 系列

$$
\sum_{n=0}^\infty ar^n = a + ar + ar^2 + ar^3 + \cdots
$$

其中 $a$ 是第一项，$r$ 是公比。

#### 部分求和公式

第 $n$ 个部分和是

$$
S_n = a + ar + ar^2 + \cdots + ar^n.
$$

两边乘以 $r$：

$$
rS_n = ar + ar^2 + \cdots + ar^{n+1}.
$$

将两个方程相减：

$$
S_n - rS_n = a - ar^{n+1}.
$$

$$
S_n(1-r) = a(1-r^{n+1}).
$$

所以

$$
S_n = \frac{a(1-r^{n+1})}{1-r}, \quad r \neq 1.
$$

#### 收敛

取极限为 $n \to \infty$：

- 如果 $|r| < 1$，则 $r^{n+1} \to 0$。

  $$
  \lim_{n\to\infty} S_n = \frac{a}{1-r}.
  $$

- 如果 $|r| \geq 1$，则 $r^{n+1}$ 不会变为 0。级数发散。

#### 结果

$$
\sum_{n=0}^\infty ar^n =
\begin{cases}
\dfrac{a}{1-r}, & |r|<1, \\[6pt]
\text{diverges}, & |r|\geq 1.
\end{cases}
$$

## 附录 D. 应用程序和连接

### D.1 物理联系：速度、加速度和功

微积分最初是为了解决物理问题——尤其是运动和变化问题而开发的。以下是一些最重要的联系。

#### 位置、速度和加速度

- 位置函数：$s(t)$ 给出物体在时间 $t$ 时的位置。
- 速度：位置的导数。

  $$
  v(t) = s'(t) = \frac{ds}{dt}
  $$
- 加速度：速度的导数（或位置的二阶导数）。

  $$
  a(t) = v'(t) = s''(t) = \frac{d^2s}{dt^2}
  $$

示例：
如果 $s(t) = 4t^2$ 米，则：

$$
v(t) = 8t, \quad a(t) = 8.
$$

因此，物体在恒定加速度下随时间线性移动得更快。

#### 工作和力量

在物理学中，功是力和距离的乘积。如果力随位置变化，微积分给出：

$$
W = \int_a^b F(x)\, dx
$$

其中 $F(x)$ 是位置 $x$ 处的力，物体从 $x=a$ 移动到 $x=b$。

示例：
具有胡克定律力 $F(x) = kx$ 的弹簧需要做功

$$
W = \int_0^d kx\, dx = \frac{1}{2}kd^2
$$

将弹簧拉伸一段距离$d$。

#### 能量和曲线下面积- 动能：$E_k = \tfrac{1}{2}mv^2$。
- 势能通常涉及积分（例如，来自重力的重力势能）。
- 一般来说，对力函数进行积分可以得到存储的能量或完成的功。

#### 快速练习

1. 如果是 $s(t) = t^3 - 3t$，则查找 $v(t)$ 和 $a(t)$。
2. 计算以 10 N 的恒定力将物体移动 5 m 所做的功。
3. 弹簧具有常数$k=200$。拉伸0.1m需要做多少功？
4. 证明加速度是位置的二阶导数。
5. 解释积分 $\int v(t)\, dt$ 与位移的关系。

### D.2 概率与统计联系

微积分与概率和统计密切相关，尤其是在处理连续随机变量时。积分对于定义概率、平均值和期望至关重要。

#### 概率密度函数 (PDF)

对于连续随机变量 $X$，概率由概率密度函数 $f(x)$ 描述：

1. $f(x) \geq 0$ 适用于所有 $x$。
2. 总概率等于 1：

   $$
   \int_{-\infty}^{\infty} f(x)\, dx = 1.
   $$

$X$ 位于区间 $[a,b]$ 中的概率为

$$
P(a \leq X \leq b) = \int_a^b f(x)\, dx.
$$

#### 期望值（平均值）

期望值（平均结果）是

$$
E[X] = \int_{-\infty}^{\infty} x f(x)\, dx.
$$

这是加权平均值的微积分版本。

#### 方差

方差测度分布：

$$
\text{Var}(X) = E[(X-\mu)^2] = \int_{-\infty}^{\infty} (x-\mu)^2 f(x)\, dx,
$$

其中$\mu = E[X]$。

#### 常见分布

1.在$[a,b]$上均匀分布：

   $$
   f(x) = \frac{1}{b-a}, \quad a \leq x \leq b.
   $$

   意思是：$\frac{a+b}{2}$。

2. 参数为 $\lambda > 0$ 的指数分布：

   $$
   f(x) = \lambda e^{-\lambda x}, \quad x \geq 0.
   $$

   意思是：$1/\lambda$。

3. 正态（高斯）分布：

   $$
   f(x) = \frac{1}{\sqrt{2\pi\sigma^2}} e^{-(x-\mu)^2/(2\sigma^2)}.
   $$

   该分布的积分连接到误差函数。

#### 为什么这很重要

- 积分将概率转化为曲线下的面积。
- 期望和方差将微积分与平均值和变异性联系起来。
- 大多数现实世界的数据模型（金融、物理、生物学、人工智能）都使用这些连续概率分布。

#### 快速练习

1. 对于 $[0,2]$ 上的 $f(x) = \tfrac{1}{2}$，计算 $P(0.5 \leq X \leq 1.5)$。
2. 对于 $\lambda = 2$ 的指数分布，计算 $E[X]$。
3. 证明标准正态曲线下的总面积等于 1。
4. 求 $[3,7]$ 上均匀分布的均值。
5. 解释为什么连续变量的概率是用积分而不是和来计算的。

### D.3 计算机科学联系：算法中的泰勒近似

微积分不仅适用于物理学，它也是计算机科学中许多工具和技术的基础。最清晰的桥梁之一是通过泰勒级数，它提供了在数值计算和算法中逼近函数的有效方法。

#### 计算的函数逼近

计算机无法直接存储或精确计算大多数函数（如 $e^x$、$\sin x$ 或 $\ln x$）。相反，他们使用从泰勒展开式导出的多项式近似。

示例：
要近似 $e^x$，请截断麦克劳林级数：

$$
e^x \approx 1 + x + \frac{x^2}{2!} + \frac{x^3}{3!}.
$$

对于较小的 $x$，该多项式只需很少的项即可给出准确的结果。

#### 算法效率- 三角函数：计算器和 CPU 的算法通常使用级数展开（或切比雪夫多项式等变体）。
- 指数/对数：泰勒展开式是数值库中快速逼近的基础。
- 求根：牛顿法基于线性近似，是泰勒级数（一阶导数）的直接应用。

#### 数值分析

泰勒展开式是误差分析的核心：

- 使用余数公式近似误差项：

  $$
  R_n(x) = \frac{f^{(n+1)}(c)}{(n+1)!}(x-a)^{n+1}.
  $$
- 这告诉我们给定的精度需要多少项。

#### 机器学习连接

- 基于梯度的优化（如梯度下降）使用导数来有效地更新参数。
- 激活函数（如 $\tanh x$ 或 $\sigma(x)=1/(1+e^{-x})$）通常通过多项式或分段函数来近似以提高速度。
- 级数逼近可以加速受限环境中的训练和推理。

#### 为什么这很重要

- 泰勒近似将连续数学与离散计算联系起来。
- 它们展示了微积分概念如何在算法、数值方法和机器学习中使用。
- 了解近似值有助于避免依赖计算机进行计算时的陷阱。

#### 快速练习

1. 使用麦克劳林级数的前三项近似 $\sin(0.1)$。
2. 使用余项来估计用 3 次多项式逼近 $e^1$ 时的误差。
3. 解释牛顿法如何使用泰勒定理。
4. 为什么计算机更喜欢多项式近似而不是函数的精确公式？
5. 在机器学习中，为什么导数（梯度）对于优化如此重要？